<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>BurgessX&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="BurgessX&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="BurgessX&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="BurgessX&#039;s Blog"><meta property="og:url" content="https://burgessx.github.io/"><meta property="og:site_name" content="BurgessX&#039;s Blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://burgessx.github.io/img/og_image.png"><meta property="article:author" content="BurgessX"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://burgessx.github.io"},"headline":"BurgessX's Blog","image":["https://burgessx.github.io/img/og_image.png"],"author":{"@type":"Person","name":"BurgessX"},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/github.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">BurgessX</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-30T05:52:57.311Z" title="2021/1/30 下午1:52:57">2021-01-30</time>发表</span><span class="level-item"><time dateTime="2021-01-30T07:57:59.068Z" title="2021/1/30 下午3:57:59">2021-01-30</time>更新</span><span class="level-item">11 分钟读完 (大约1636个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/30/1352.html"> </a></h1><div class="content"><p>百度高级搜索的方法</p>
<h1 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h1><p>嫌麻烦或记不住的话可以采用这种方法。在百度首页直接点击右上角的 <code>设置</code>→<code>高级搜索</code>，在弹出的对话框中按提示填入搜索信息。</p>
<h1 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h1><p>采用高级语法进行搜索。</p>
<h2 id="intitle：搜索范围限定在网页标题"><a href="#intitle：搜索范围限定在网页标题" class="headerlink" title="intitle：搜索范围限定在网页标题"></a>intitle：搜索范围限定在网页标题</h2><p>网页标题通常是对网页内容提纲挈领式的归纳。把查询内容范围限定在网页标题中，有时能获得良好的效果。</p>
<p>语法结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">内容 intitle:标题中要包含的内容</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">web学习 intitle:安全</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong><code>intitle:</code> 和后面的关键词之间不要有空格，下同。</p>
</blockquote>
<h2 id="site：搜索范围限定在特定站点中"><a href="#site：搜索范围限定在特定站点中" class="headerlink" title="site：搜索范围限定在特定站点中"></a>site：搜索范围限定在特定站点中</h2><p>如果知道某个站点中有自己需要找的东西，就可以把搜索范围限定在这个站点中，提高查询效率。</p>
<p>语法结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你要查找的信息 site:网站地址</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">百度知道 site:www.y80s.com</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong></p>
<ul>
<li><p><code>site: </code> 后面跟的站点域名，不要带 <code>http://</code>。</p>
</li>
<li><p><code>site:</code> 和站点名之间，不要带空格。</p>
</li>
</ul>
</blockquote>
<h2 id="inurl：搜索范围限定在url链接中"><a href="#inurl：搜索范围限定在url链接中" class="headerlink" title="inurl：搜索范围限定在url链接中"></a>inurl：搜索范围限定在url链接中</h2><p>网页 URL 中的某些信息，常常有某种有价值的含义。您如果对搜索结果的 URL 做某种限定，可以获得良好的效果。</p>
<p>语法结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你要查找的信息 inurl:相关信息（必须是字母）</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS视频教程 inurl:video</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong></p>
<p>查询词 <code>PS视频教程</code> 是可以出现在网页的任何位置，而 <code>video</code> 则必须出现在网页包含的url链接中。</p>
</blockquote>
<h2 id="双引号“”和书名号《》：精确匹配"><a href="#双引号“”和书名号《》：精确匹配" class="headerlink" title="双引号“”和书名号《》：精确匹配"></a>双引号“”和书名号《》：精确匹配</h2><h3 id="双引号"><a href="#双引号" class="headerlink" title="双引号"></a>双引号</h3><p>查询词加上双引号“”则表示查询词不能被拆分，在搜索结果中必需完整出现，可以对查询词精确匹配。如果不加双引号“”经过百度分析后可能会拆分。</p>
<h3 id="书名号"><a href="#书名号" class="headerlink" title="书名号"></a>书名号</h3><p>书名号是百度独有的一个特殊查询语法。在其他搜索引擎中，书名号会被忽略，而在百度，中文书名号是可被查询的。</p>
<p>加上书名号的查询词，有两层特殊功能，一是书名号会出现在搜索结果中；二是被书名号扩起来的内容，不会被拆分。</p>
<p>书名号在某些情况下特别有效果，例如查名字很通俗和常用的那些电影或者小说。比如，查电影“手机”，如果不加书名号，很多情况下出来的是通讯工具——手机，而加上书名号后，《手机》结果就都是关于电影方面的了。</p>
<h2 id="filetype：指定文件类型"><a href="#filetype：指定文件类型" class="headerlink" title="filetype：指定文件类型"></a>filetype：指定文件类型</h2><p>用这个语法来对搜索对象做限制，冒号后是文档格式，如PDF、DOC、XLS等。例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">霍金 黑洞 filetype:pdf</span><br></pre></td></tr></table></figure>

<h2 id="“-”：去除所有包含特定关键词的网页"><a href="#“-”：去除所有包含特定关键词的网页" class="headerlink" title="“-”：去除所有包含特定关键词的网页"></a>“-”：去除所有包含特定关键词的网页</h2><p>语法结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">要查找的信息 -你要去掉的信息</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">神雕侠侣 -电视剧</span><br></pre></td></tr></table></figure>

<p>比如说查找神雕侠侣武侠小说方面的内容，却发现有很多关于电视剧的网页，可以使用这个语法去掉电视剧方面的信息。</p>
<blockquote>
<p><strong>注意：</strong></p>
<ul>
<li><p>前一个关键词，和减号之间必须有空格，否则，减号会被当成连字符处理，而失去减号语法功能。</p>
</li>
<li><p>减号和后一个关键词之间，有无空格均可。</p>
</li>
</ul>
</blockquote>
<h2 id="intext：只在网页正文搜索"><a href="#intext：只在网页正文搜索" class="headerlink" title="intext：只在网页正文搜索"></a>intext：只在网页正文搜索</h2><p>语法结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">intext:关键词</span><br></pre></td></tr></table></figure>

<p>也就是忽略了在标题、URL 等之中的文字。</p>
<blockquote>
<p><strong>注意：</strong></p>
<ul>
<li>只在网页正文搜索不等于标题和 URL 中一定不会出现你搜索的关键词，只不过搜索引擎不对标题和 URL 进行搜索而已。</li>
</ul>
</blockquote>
<h2 id="folder：指定文件夹搜索"><a href="#folder：指定文件夹搜索" class="headerlink" title="folder：指定文件夹搜索"></a>folder：指定文件夹搜索</h2><p>好像是<strong>百度硬盘搜索1.1.1</strong>的 folder 语法。</p>
<p>语法结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">关键词 folder:文件所在路径</span><br></pre></td></tr></table></figure>

<p>硬盘搜索就会自动搜索指定文件所在路径里面所有和关键词相关的搜索结果。</p>
<p>比如输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">九寨沟 folder:C:\旅游照片</span><br></pre></td></tr></table></figure>

<p>所有C盘“旅游照片”文件夹中的九寨沟图片都被显示出来。</p>
<h2 id="“-”：扩大检索范围"><a href="#“-”：扩大检索范围" class="headerlink" title="“|”：扩大检索范围"></a>“|”：扩大检索范围</h2><p>语法结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文字 (正在连接 | 开始连接)</span><br></pre></td></tr></table></figure>

<p>这里的符号“|”表示两者任意一个出现即可，是布尔语法中“逻辑或”的表现方式。</p>
<p><code>文字 (正在连接 | 开始连接)</code> 的检索效果，相当于 <code>文字 正在连接</code> 加上 <code>文字 开始连接</code>。</p>
<p>如果你想用多种说法来搜索内容，可以使用“|”来扩大检索范围。</p>
<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(速度与激情4 | 速度与激情IV)</span><br><span class="line">(速度与激情2 | 速度与激情II) 电影</span><br></pre></td></tr></table></figure>
<p>还可以使用双引号，精确匹配：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(&quot;速度与激情&quot; | &quot;速度与激情I&quot;) 电影</span><br></pre></td></tr></table></figure>
<h2 id="“-”：包含特定查询词"><a href="#“-”：包含特定查询词" class="headerlink" title="“+”：包含特定查询词"></a>“+”：包含特定查询词</h2><p>用加号“+”语法可以帮您在搜索结果中必须包含特定的关键词所有网页。</p>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">电影 +qvod</span><br></pre></td></tr></table></figure>

<p>查询词“电影”的搜索结果中必须包含“qvod”。</p>
<h2 id="邮件搜索语法：subject、to、from"><a href="#邮件搜索语法：subject、to、from" class="headerlink" title="邮件搜索语法：subject、to、from"></a>邮件搜索语法：subject、to、from</h2><p>对于每天要处理很多邮件的用户，有了<strong>百度硬盘搜索1.1.1</strong>提供的邮件搜索语法：subject、to、from无异于如虎添翼。</p>
<p>只要输入“subject:文字”即可找到主题中含有“文字”的电子邮件，例如输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subject:头 from:claire@email.com</span><br></pre></td></tr></table></figure>

<p>就可以找到Claire发的、主题中含有“头”的email。</p>
<p>输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">工作报告 to:peter@company.com</span><br></pre></td></tr></table></figure>

<p>就可以找到发给Peter的所有工作报告邮件了。</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ol>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/k0xx/p/12794452.html" title="百度搜索语法大全">百度搜索语法大全</a></li>
<li><a target="_blank" rel="noopener" href="https://help.baidu.com/question?prod_id=5&class=509&id=3209" title="高级语法介绍">高级语法介绍</a></li>
<li><a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_4cf69f010100vls1.html" title="百度精确匹配——双引号和书名号">百度精确匹配——双引号和书名号</a></li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-29T07:21:08.690Z" title="2021/1/29 下午3:21:08">2021-01-29</time>发表</span><span class="level-item"><time dateTime="2021-01-29T07:24:56.451Z" title="2021/1/29 下午3:24:56">2021-01-29</time>更新</span><span class="level-item">3 分钟读完 (大约399个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/29/1521.html"> </a></h1><div class="content"><p>iperf  –help</p>
<p>Usage: iperf [-s|-c host] [options]<br>       iperf [-h|–help] [-v|–version]</p>
<p>Client/Server:<br>  -b, –bandwidth #[KMG | pps]  bandwidth to send at in bits/sec or packets per second<br>  -e, –enhancedreports    use enhanced reporting giving more tcp/udp and traffic information<br>  -f, –format    [kmKM]   format to report: Kbits, Mbits, KBytes, MBytes<br>  -i, –interval  #        seconds between periodic bandwidth reports<br>  -l, –len       #[KM]    length of buffer to read or write (default 8 KB)<br>  -m, –print_mss          print TCP maximum segment size (MTU - TCP/IP header)<br>  -o, –output    <filename> output the report or error message to this specified file<br>  -p, –port      #        server port to listen on/connect to<br>  -u, –udp                use UDP rather than TCP<br>  -w, –window    #[KM]    TCP window size (socket buffer size)<br>  -z, –realtime           request realtime scheduler<br>  -B, –bind      <host>   bind to <host>, an interface or multicast address<br>  -C, –compatibility      for use with older versions does not sent extra msgs<br>  -M, –mss       #        set TCP maximum segment size (MTU - 40 bytes)<br>  -N, –nodelay            set TCP no delay, disabling Nagle’s Algorithm<br>  -V, –ipv6_domain        Set the domain to IPv6</p>
<p>Server specific:<br>  -s, –server             run in server mode<br>  -U, –single_udp         run in single threaded UDP mode<br>  -D, –daemon             run the server as a daemon</p>
<p>Client specific:<br>  -c, –client    <host>   run in client mode, connecting to <host><br>  -d, –dualtest           Do a bidirectional test simultaneously<br>  -n, –num       #[KM]    number of bytes to transmit (instead of -t)<br>  -r, –tradeoff           Do a bidirectional test individually<br>  -t, –time      #        time in seconds to transmit for (default 10 secs)<br>  -B, –bind [<ip> | <a href="ip:port">ip:port</a>] bind src addr(s) from which to originate traffic<br>  -F, –fileinput <name>   input the data to be transmitted from a file<br>  -I, –stdin              input the data to be transmitted from stdin<br>  -L, –listenport #       port to receive bidirectional tests back on<br>  -P, –parallel  #        number of parallel client threads to run<br>  -T, –ttl       #        time-to-live, for multicast (default 1)<br>  -Z, –linux-congestion <algo>  set TCP congestion control algorithm (Linux only)</p>
<p>Miscellaneous:<br>  -x, –reportexclude [CDMSV]   exclude C(connection) D(data) M(multicast) S(settings) V(server) reports<br>  -y, –reportstyle C      report as a Comma-Separated Values<br>  -h, –help               print this message and quit<br>  -v, –version            print version information and quit</p>
<p>[KM] Indicates options that support a K or M suffix for kilo- or mega-</p>
<p>The TCP window size option can be set by the environment variable<br>TCP_WINDOW_SIZE. Most other options can be set by an environment variable<br>IPERF_<long option name>, such as IPERF_BANDWIDTH.</p>
<p>Source at <a target="_blank" rel="noopener" href="http://sourceforge.net/projects/iperf2/">http://sourceforge.net/projects/iperf2/</a><br>Report bugs to <a href="mailto:&#105;&#x70;&#101;&#x72;&#x66;&#x2d;&#x75;&#115;&#x65;&#x72;&#115;&#64;&#108;&#x69;&#115;&#116;&#x73;&#46;&#x73;&#111;&#x75;&#x72;&#x63;&#x65;&#102;&#111;&#x72;&#x67;&#x65;&#46;&#110;&#101;&#x74;">&#105;&#x70;&#101;&#x72;&#x66;&#x2d;&#x75;&#115;&#x65;&#x72;&#115;&#64;&#108;&#x69;&#115;&#116;&#x73;&#46;&#x73;&#111;&#x75;&#x72;&#x63;&#x65;&#102;&#111;&#x72;&#x67;&#x65;&#46;&#110;&#101;&#x74;</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-29T02:22:46.773Z" title="2021/1/29 上午10:22:46">2021-01-29</time>发表</span><span class="level-item"><time dateTime="2021-01-29T07:15:37.021Z" title="2021/1/29 下午3:15:37">2021-01-29</time>更新</span><span class="level-item">2 分钟读完 (大约372个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/29/1022.html"> </a></h1><div class="content"><p>计算机网络</p>
<blockquote>
<p>参考视频链接：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV124411k7uV?from=search&amp;seid=8102981964172889001">https://www.bilibili.com/video/BV124411k7uV?from=search&amp;seid=8102981964172889001</a></p>
</blockquote>
<h1 id="网络设备需要解决的问题"><a href="#网络设备需要解决的问题" class="headerlink" title="网络设备需要解决的问题"></a>网络设备需要解决的问题</h1><p>网络设备需要实现两个重要的功能：</p>
<ol>
<li><p>转发</p>
</li>
<li><p>标识</p>
</li>
</ol>
<h1 id="网络设备的演变"><a href="#网络设备的演变" class="headerlink" title="网络设备的演变"></a>网络设备的演变</h1><h2 id="HUB"><a href="#HUB" class="headerlink" title="HUB"></a>HUB</h2><ul>
<li><p>HUB：集线器，构建星型网络</p>
<ul>
<li>通过广播的形式，把数据包发给所有设备，让设备自己识别数据包是不是自己的</li>
</ul>
</li>
<li><p>CSMA/CD协议：HUB模式是半双工的，这个协议为了防止冲突</p>
</li>
</ul>
<h2 id="SW"><a href="#SW" class="headerlink" title="SW"></a>SW</h2><p>SW：交换机</p>
<ol>
<li><p>有了MAC地址，且是全双工的</p>
</li>
<li><p>不同交换机之间可以进行桥接</p>
</li>
<li><p>MAC地址表有限</p>
</li>
</ol>
<h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><p>路由器（也叫网关）</p>
<ol>
<li><p>有了IP地址：标识网络和设备</p>
</li>
<li><p>实现了不同网络之间的通信</p>
</li>
<li><p>路由器分WAN口和LAN口，LAN连接本地网络（内网），WAN连接外部网络（公网）</p>
</li>
<li><p>路由器有一个WAN固定IP，有一个LAN网段，网口可以分配不同的IP</p>
</li>
</ol>
<h1 id="跨网络传输过程"><a href="#跨网络传输过程" class="headerlink" title="跨网络传输过程"></a>跨网络传输过程</h1><p>例如要从192.168.0.12传给192.168.1.254，具体过程如下：</p>
<ol>
<li><p>0.12→0.1（路由器的IP）</p>
<ol>
<li>查0.1的MAC地址（通过ARP广播）</li>
<li>MAC层传输</li>
</ol>
</li>
<li><p>0.1→1.52（路由器内部两个端口之间的传输）</p>
</li>
<li><p>1.52→1.254</p>
<ol>
<li>查1.254的MAC地址（通过ARP广播）</li>
<li>MAC层传输</li>
</ol>
</li>
</ol>
<h1 id="一些网络协议"><a href="#一些网络协议" class="headerlink" title="一些网络协议"></a>一些网络协议</h1><p>DHCP协议：自动分配IP</p>
<p>NAT：网络地址转换协议</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-28T14:10:58.774Z" title="2021/1/28 下午10:10:58">2021-01-28</time>发表</span><span class="level-item"><time dateTime="2021-01-28T14:10:58.775Z" title="2021/1/28 下午10:10:58">2021-01-28</time>更新</span><span class="level-item">30 分钟读完 (大约4481个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/28/2210.html"> </a></h1><div class="content"><pre><code>                      README file for
                        resolvconf
</code></pre>
<p>Contents</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br></pre></td><td class="code"><pre><span class="line">News</span><br><span class="line">Introduction</span><br><span class="line">Rationale</span><br><span class="line">HOWTO</span><br><span class="line">Order of entries in resolv.conf</span><br><span class="line">Requirements</span><br><span class="line">Technical overview</span><br><span class="line">Usage information for developers</span><br><span class="line">Usage information for maintainers</span><br><span class="line">Usage information for administrators</span><br><span class="line">FAQ</span><br><span class="line">TODO</span><br><span class="line">DONE</span><br><span class="line">Credits</span><br><span class="line"></span><br><span class="line">News</span><br><span class="line">~~~~</span><br><span class="line">* Last updated 8 May 2014 for version 1.75</span><br><span class="line"></span><br><span class="line">Introduction</span><br><span class="line">~~~~~~~~~~~~</span><br><span class="line">Resolvconf is a framework for keeping track of the system&#39;s information about</span><br><span class="line">currently available nameservers.  It sets itself up as the intermediary</span><br><span class="line">between programs that supply nameserver information and applications that need</span><br><span class="line">nameserver information.</span><br><span class="line"></span><br><span class="line">Rationale</span><br><span class="line">~~~~~~~~~</span><br><span class="line">&#x2F;etc&#x2F;resolv.conf was once a simple static configuration file where the</span><br><span class="line">sysadmin placed a few directives that rarely needed to be changed.  That</span><br><span class="line">changed with the advent of mobile computing: a computer can now move from one</span><br><span class="line">network to another quite often.  Debian currently includes many packages that</span><br><span class="line">alter resolv.conf more or less automatically.  Some of them are listed below,</span><br><span class="line">along with a short description of what they do which I have tried to keep up</span><br><span class="line">to date.  (Figures in parentheses show the number of the package&#39;s</span><br><span class="line">popularity-contest votes as of 5 January 2005.)</span><br><span class="line"></span><br><span class="line">pcmcia-cs (914)</span><br><span class="line">    Can overwrite resolv.conf with no backup unless (as of 3.2.5-1)</span><br><span class="line">    resolvconf is installed.  By default, doesn&#39;t.</span><br><span class="line">ppp (4533)</span><br><span class="line">    pppd optionally overwrites &#x2F;etc&#x2F;ppp&#x2F;resolv.conf .  By default, does.</span><br><span class="line">pppconfig (3702)</span><br><span class="line">    Moves resolv.conf out of the way and puts it back when done.</span><br><span class="line">pppoeconf (2938)</span><br><span class="line">    Prior to version 1.0, overwrites resolv.conf, attempting to merge</span><br><span class="line">    its stuff with the existing contents.  Creates a backup in &#x2F;etc&#x2F; but</span><br><span class="line">    doesn&#39;t restore it.</span><br><span class="line">gnome-ppp (24)</span><br><span class="line">    Contains experimental code, currently commented out, that overwrites</span><br><span class="line">    resolv.conf.</span><br><span class="line">gnome-system-tools (1349)</span><br><span class="line">    Allows the user to write directly to &#x2F;etc&#x2F;resolv.conf.</span><br><span class="line">systemconfigurator (94)</span><br><span class="line">    Allows the user to write directly to &#x2F;etc&#x2F;resolv.conf.</span><br><span class="line">webmin (781)</span><br><span class="line">    Prior to version 1.150-2, the Network Configuration|DNS Client page</span><br><span class="line">    can make changes to &#x2F;etc&#x2F;resolv.conf.  As of 1.150-2 this page is</span><br><span class="line">    read-only when resolvconf is installed.</span><br><span class="line">webmin-wvdial (8)</span><br><span class="line">    Copies &#x2F;etc&#x2F;ppp&#x2F;resolv.conf over &#x2F;etc&#x2F;resolv.conf after PPP</span><br><span class="line">    connection established unless (as of version 1.160-3) the latter is</span><br><span class="line">    a symbolic link; restores original contents from backup file when</span><br><span class="line">    the connection is broken.</span><br><span class="line">xisp (1 -- removed)</span><br><span class="line">    Adds lines to &#x2F;etc&#x2F;resolv.conf on PPP interface up and deletes those</span><br><span class="line">    lines on interface down.</span><br><span class="line">totd (5)</span><br><span class="line">    Prior to 1.4-4, PPP hook scripts can do things to &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">    but SFAICT are effectively no-ops if resolvconf is installed.  Hard</span><br><span class="line">    to tell.  Postinst does things to &#x2F;etc&#x2F;resolv.conf and also rewrites</span><br><span class="line">    dhclient_enter_hooks in a way incompatible with resolvconf.  As of</span><br><span class="line">    1.4-4 totd plays nicely with resolvconf. As of Wheezy, totd is gone</span><br><span class="line">    from Debian.</span><br><span class="line">dhcp-client (4005)</span><br><span class="line">    Prior to version 2.0pl5-17, overwrites resolv.conf without making a</span><br><span class="line">    backup.</span><br><span class="line">dhcp3-client (676)</span><br><span class="line">    Overwrites resolv.conf unless make_resolv_conf() is redefined.</span><br><span class="line">    Resolvconf redefines it.</span><br><span class="line">dhcpcd (104)</span><br><span class="line">    Optionally overwrites resolv.conf .  Default is not to do so.  Prior</span><br><span class="line">    to version 1:1.3.22pl4-8, hook script overwrites</span><br><span class="line">    &#x2F;etc&#x2F;dhcpc&#x2F;resolv.conf unless (as of 1:1.3.22pl4-7) resolvconf is</span><br><span class="line">    installed.</span><br><span class="line">pump (734)</span><br><span class="line">    Prior to version 0.8.15, blindly overwrites resolv.conf unless nodns</span><br><span class="line">    option is used.  No backup.  As of version 0.8.15 pump calls</span><br><span class="line">    resolvconf if it is installed instead of overwriting</span><br><span class="line">    &#x2F;etc&#x2F;resolv.conf.</span><br><span class="line">udhcpc (44)</span><br><span class="line">    Prior to version 0.9.8cvs20050124-2, blindly overwrites resolv.conf</span><br><span class="line">    without making a backup.</span><br><span class="line">netenv (43)</span><br><span class="line">    Contains sample code that, if uncommented, would overwrite</span><br><span class="line">    &#x2F;etc&#x2F;resolv.conf without backing it up</span><br><span class="line">switchconf (12)</span><br><span class="line">    Forcibly links selected resolv.conf file into place without making a</span><br><span class="line">    backup.</span><br><span class="line">divine (9)</span><br><span class="line">    Symlinks-in a resolv.conf for the selected network.  Appears to</span><br><span class="line">    trash whatever was in resolv.conf when it starts.</span><br><span class="line">intuitively (18)</span><br><span class="line">    If a resolv.conf file is included in &#x2F;etc&#x2F;intuitively&#x2F;NETWORK,</span><br><span class="line">    blindly overwrites &#x2F;etc&#x2F;resolv.conf .</span><br><span class="line">laptop-netconf (23)</span><br><span class="line">    Symlinks in a resolv.conf for the detected network.  Seems to make a</span><br><span class="line">    backup of resolv.conf but doesn&#39;t restore it.</span><br><span class="line">whereami (23)</span><br><span class="line">    Contains utility scripts that modify resolv.conf</span><br><span class="line">laptop-net (42)</span><br><span class="line">    Overwrites resolv.conf unless (as of 2.20) resolvconf is installed.</span><br><span class="line"></span><br><span class="line">Several other packages recommend to the user that scripts be written to alter</span><br><span class="line">or replace resolv.conf.</span><br><span class="line"></span><br><span class="line">Third-party software packages also futz with &#x2F;etc&#x2F;resolv.conf. Among them</span><br><span class="line">are the Cisco AnyConnect, Juniper AnyConnect and FortiClient SSL VPN clients.</span><br><span class="line"></span><br><span class="line">These packages do not cooperate; they simply overwrite one another&#39;s changes.</span><br><span class="line">Even those that back up and restore the file will corrupt it if interfaces are</span><br><span class="line">brought up and down in other than a LIFO order.  Few of them support the use</span><br><span class="line">of a local DNS cache.</span><br><span class="line"></span><br><span class="line">Resolvconf (555) has been written in order to provide a framework for managing</span><br><span class="line">the resolv.conf file in an way that avoids the above problems.</span><br><span class="line"></span><br><span class="line">HOWTO</span><br><span class="line">~~~~~</span><br><span class="line">Resolvconf works with most interface configurers in Debian (&#39;(*)&#39; below</span><br><span class="line">meaning &quot;with some manual configuration&quot;): </span><br><span class="line"></span><br><span class="line">   isc-dhcp-client, dhcpcd, pump, udhcpc</span><br><span class="line">   ppp</span><br><span class="line">   ifupdown</span><br><span class="line">   network-manager</span><br><span class="line"></span><br><span class="line">DNS caches:</span><br><span class="line"></span><br><span class="line">   bind9(*), djbdns dnscache, dnsmasq, nscd, pdnsd</span><br><span class="line"></span><br><span class="line">DNS recursing nameservers:</span><br><span class="line"></span><br><span class="line">   bind9(*), pdns-recursor(*), unbound</span><br><span class="line"></span><br><span class="line">and with any program that uses a DNS client library that consults</span><br><span class="line">&#x2F;etc&#x2F;resolv.conf to obtain its list of nameservers:</span><br><span class="line"></span><br><span class="line">   the GNU C Library resolver library</span><br><span class="line">   adns</span><br><span class="line">   the djbdns resolver library</span><br><span class="line">   FireDNS</span><br><span class="line"></span><br><span class="line">Take the following steps to set things up.  Unfortunately, it is not always</span><br><span class="line">simply a matter of installing the resolvconf package -- especially if you have</span><br><span class="line">already tried to deal with the above problems locally by customizing your</span><br><span class="line">configuration.</span><br><span class="line"></span><br><span class="line">1. You may have already installed resolvconf at this point.  OK.</span><br><span class="line">2. Stop obsolete programs from writing to &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">  * netenv</span><br><span class="line">    + Purge or make sure that &#x2F;sbin&#x2F;netenv hasn&#39;t been configured such</span><br><span class="line">      that it overwrites &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">  * switchconf</span><br><span class="line">    + Purge or make sure that there are no resolv.conf files under the</span><br><span class="line">      &#x2F;etc&#x2F;switchconf&#x2F; directory</span><br><span class="line">  * xisp</span><br><span class="line">    + Purge</span><br><span class="line">  * divine</span><br><span class="line">    + Purge</span><br><span class="line">  * intuitively</span><br><span class="line">    + Purge</span><br><span class="line">  * laptop-netconf</span><br><span class="line">    + Purge</span><br><span class="line">  * whereami</span><br><span class="line">      Purge or make sure that you aren&#39;t using the &quot;setresolver&quot;,</span><br><span class="line">      &quot;bind-forwarders&quot; or &quot;setdnsmasq&quot; utility scripts.</span><br><span class="line">  * etc.</span><br><span class="line">      Delete or disable local scripts of any kind that futz with</span><br><span class="line">      &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">3. Configure packages not to overwrite &#x2F;etc&#x2F;resolv.conf and to work</span><br><span class="line">   properly with resolvconf</span><br><span class="line">  3.1 ppp</span><br><span class="line">    * Make sure that the usepeerdns option is used.  With this option,</span><br><span class="line">      pppd will obtain nameserver addresses from the peer and these will</span><br><span class="line">      be added to resolvconf&#39;s database.</span><br><span class="line">  3.2 pump</span><br><span class="line">    * Make sure that neither the nodns nor the noresolvconf option is</span><br><span class="line">      used -- either in pump.conf or on the command line</span><br><span class="line">  3.3 dhcpcd</span><br><span class="line">    * Make sure that SET_DNS is not set anywhere in &#x2F;etc&#x2F;dhcpc&#x2F;config .</span><br><span class="line">      (In recent versions of dhcpcd, on initial installation, SET_DNS</span><br><span class="line">      is not set.)</span><br><span class="line">  3.4 ifupdown</span><br><span class="line">    * Remove any &quot;up&quot; or &quot;down&quot; commands from &#x2F;etc&#x2F;network&#x2F;interfaces</span><br><span class="line">      that futz with &#x2F;etc&#x2F;resolv.conf and remove any scripts from</span><br><span class="line">      &#x2F;etc&#x2F;network&#x2F;if-*.d&#x2F; that futz with &#x2F;etc&#x2F;resolv.conf.</span><br><span class="line">    * For each inet static logical interface through which a nameserver is</span><br><span class="line">      accessible, add lines like the following to &#x2F;etc&#x2F;network&#x2F;interfaces .</span><br><span class="line"></span><br><span class="line">          dns-nameserver 11.22.33.44</span><br><span class="line">          dns-nameserver 55.66.77.88</span><br><span class="line">          dns-search foo.org bar.com</span><br><span class="line"></span><br><span class="line">      The option &quot;dns-sortlist&quot; is also available but rarely used.  These</span><br><span class="line">      option names correspond to the option names used in the resolv.conf</span><br><span class="line">      file. See resolv.conf(5) for more information.  The lines entered</span><br><span class="line">      in &#x2F;etc&#x2F;network&#x2F;interfaces will be added to the resolver</span><br><span class="line">      configuration file (without the &quot;dns-&quot; prefix, of course) when a</span><br><span class="line">      physical interface is brought up as that logical interface.</span><br><span class="line">      Note that the resolver configuration is updated AFTER all the &quot;up&quot;</span><br><span class="line">      commands have been run; therefore &quot;up&quot; commands cannot make use of</span><br><span class="line">      nameservers listed on &quot;dns-nameserver&quot; lines in the same logical</span><br><span class="line">      interface stanza.  Changing this will require modifying ifupdown</span><br><span class="line">      so that it talks to resolvconf; currently resolvconf hooks into</span><br><span class="line">      ifupdown using the script &#x2F;etc&#x2F;network&#x2F;if-up.d&#x2F;000resolvconf. Note</span><br><span class="line">      too that scripts in &#x2F;etc&#x2F;network&#x2F;if-up.d&#x2F; CAN make use of the</span><br><span class="line">      added nameservers because those scripts run after 000resolvconf.</span><br><span class="line">  3.5 bind9</span><br><span class="line">    * To make bind9 supply its nameserver address 127.0.0.1 to resolvconf,</span><br><span class="line">      set RESOLVCONF&#x3D;yes in &#x2F;etc&#x2F;default&#x2F;bind9.</span><br><span class="line">    * To make bind9 use nameserver addresses supplied by other sources as</span><br><span class="line">      addresses of forwarders, either (1) pursuade the maintainers of the</span><br><span class="line">      bind9 package to implement this feature (as already requested at</span><br><span class="line">      http:&#x2F;&#x2F;bugs.debian.org&#x2F;483098) or (2) add a hook script to</span><br><span class="line">      &#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F; which writes out a configuration file</span><br><span class="line">      fragment and then tells named to re-read is configuration.  A sample</span><br><span class="line">      hook script meeting this description has been provided in</span><br><span class="line">      &#x2F;usr&#x2F;share&#x2F;doc&#x2F;resolvconf&#x2F;resolvconf-update-bind.</span><br><span class="line">4. Install the resolvconf package if you have not already done so.</span><br><span class="line">   If you have already done so then consider dpkg-reconfigure&#39;ing it.</span><br><span class="line">   Agree to symlink &#x2F;etc&#x2F;resolv.conf to &#x2F;etc&#x2F;resolvconf&#x2F;run&#x2F;resolv.conf.</span><br><span class="line">   You can decline the offer to append the original static resolver</span><br><span class="line">   configuration file to the end of the dynamically generated resolver</span><br><span class="line">   configuration file because you have already modified</span><br><span class="line">   &#x2F;etc&#x2F;network&#x2F;interfaces as directed above.</span><br><span class="line">5. Reboot</span><br><span class="line">6. Check &#x2F;etc&#x2F;resolv.conf to make sure that its contents make sense.</span><br><span class="line"></span><br><span class="line">If &#x2F;etc&#x2F;resolv.conf is not symlinked to &#x2F;etc&#x2F;resolvconf&#x2F;run&#x2F;resolv.conf then</span><br><span class="line">a warning message will be printed when &#x2F;sbin&#x2F;resolvconf is run.  If you want</span><br><span class="line">to keep resolvconf installed but for some reason do not want &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">to be symlinked to &#x2F;etc&#x2F;resolvconf&#x2F;run&#x2F;resolv.conf then you can disable the</span><br><span class="line">warning message by setting REPORT_ABSENT_SYMLINK&#x3D;no in</span><br><span class="line">&#x2F;etc&#x2F;default&#x2F;resolvconf.</span><br><span class="line"></span><br><span class="line">Order of entries in resolv.conf</span><br><span class="line">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">Some of the information in the resolver configuration file consists of a set</span><br><span class="line">of entries whose order is significant.  Specifically, the order of nameserver</span><br><span class="line">lines</span><br><span class="line"></span><br><span class="line">    nameserver x1.x2.x3.x4</span><br><span class="line">    nameserver y1.y2.y3.y4</span><br><span class="line"></span><br><span class="line">determines the order in which nameservers are consulted and the order of items</span><br><span class="line">on the search line</span><br><span class="line"></span><br><span class="line">    search da1.da2.org db1.db2.com</span><br><span class="line"></span><br><span class="line">determines the order in which domain names are tried.</span><br><span class="line"></span><br><span class="line">Resolvconf orders these entries according to the names of the interfaces to</span><br><span class="line">which they relate.  (More truthfully, it orders them according to the record</span><br><span class="line">names in which they are stored, but it is a convention that records are named</span><br><span class="line">like the interfaces for which they are the records, possibly with some suffix.)</span><br><span class="line">The particular order is determined by the &#x2F;etc&#x2F;resolvconf&#x2F;interface-order file.</span><br><span class="line">See interface-order(5) for more information.</span><br><span class="line"></span><br><span class="line">If you use ifrename, nameif or udev in order to assign stable names to your</span><br><span class="line">network interfaces, I recommend that you employ names that begin with the</span><br><span class="line">traditional pattern but differ from those names that the kernel uses as</span><br><span class="line">defaults.  E.g., the kernel names Ethernet interfaces &#39;eth0&#39;, &#39;eth1&#39;, and so</span><br><span class="line">on, so you might rename your Ethernet interfaces to &quot;eth_3com&quot;, &quot;eth_cisco&quot;,</span><br><span class="line">etc.  Similarly you might rename your Wi-Fi interfaces &quot;wlan_airo&quot; and</span><br><span class="line">&quot;wlan_atmel&quot;.  If you follow this advice then you won&#39;t have to modify the</span><br><span class="line">default interface-order file.</span><br><span class="line"></span><br><span class="line">Using a static file to order the entries is obviously not very flexible;</span><br><span class="line">however, it is adequate in most usage situations.  Situations for which it is</span><br><span class="line">not adequate are generally situations in which it is better to use a local</span><br><span class="line">caching nameserver that can do things like monitoring and load balancing.</span><br><span class="line"></span><br><span class="line">Requirements</span><br><span class="line">~~~~~~~~~~~~</span><br><span class="line">I hope that resolvconf satisfies the following requirements.</span><br><span class="line">* Be opaque</span><br><span class="line">    Resolvconf must be as opaque as possible.  It must have a stable</span><br><span class="line">    interface and mustn&#39;t require that maintainers know about its</span><br><span class="line">    internals.</span><br><span class="line">* Be order-independent</span><br><span class="line">    Interfaces going up and down in arbitrary order must be handled</span><br><span class="line">    properly.</span><br><span class="line">* Be locally configurable</span><br><span class="line">    Administrator choices must be respected.</span><br><span class="line">* Support DNS caches</span><br><span class="line">    Local DNS cache programs must be able to arrange for nameserver</span><br><span class="line">    addresses supplied by interfaces to be passed to them for use as</span><br><span class="line">    forwarders.  The libc resolver should use any local DNS caches that</span><br><span class="line">    are available.</span><br><span class="line">* Be compatible with a read-only root filesystem</span><br><span class="line">    Variable files must be easily relocated out of &#x2F;etc&#x2F;.</span><br><span class="line">* Be portable</span><br><span class="line">* Be simple</span><br><span class="line"></span><br><span class="line">Technical overview</span><br><span class="line">~~~~~~~~~~~~~~~~~~</span><br><span class="line">* The &#x2F;etc&#x2F;resolvconf&#x2F; directory contains:</span><br><span class="line">  + resolv.conf.d&#x2F;</span><br><span class="line">    Files related to the libc resolv.conf file</span><br><span class="line">    - resolv.conf.d&#x2F;head</span><br><span class="line">      The head of the dynamically generated resolv.conf</span><br><span class="line">    - resolv.conf.d&#x2F;tail</span><br><span class="line">      The tail of the dynamically generated resolv.conf</span><br><span class="line">    - resolv.conf.d&#x2F;base</span><br><span class="line">      Information always included in the resolv.conf file.  Dynamic</span><br><span class="line">      information gets merged with this information.  E.g., if base</span><br><span class="line">      contains &#39;search a.b.c&#39; and another record is added that contains</span><br><span class="line">      &#39;search x.y.z&#39; then the resulting file will have</span><br><span class="line">      &#39;search a.b.c x.y.z&#39;.</span><br><span class="line">  + run&#x2F;</span><br><span class="line">    Symbolic link to &#x2F;run&#x2F;resolvconf&#x2F;</span><br><span class="line">  + update.d&#x2F;</span><br><span class="line">    Scripts to run when nameserver information is updated</span><br><span class="line">  + update-libc.d&#x2F;</span><br><span class="line">    Scripts to run when the resolv.conf file changes</span><br><span class="line">* Symlink &#x2F;etc&#x2F;resolv.conf -&gt; &#x2F;etc&#x2F;resolvconf&#x2F;run&#x2F;resolv.conf</span><br><span class="line">* Configurers of interfaces call &#x2F;sbin&#x2F;resolvconf to provide</span><br><span class="line">  resolv.conf-like information after the interface is brought up.  They</span><br><span class="line">  call it again to delete the information when the interface is brought</span><br><span class="line">  down.  &#x2F;sbin&#x2F;resolvconf then does the equivalent of</span><br><span class="line">  &quot;&#x2F;etc&#x2F;init.d&#x2F;resolvconf reload&quot;.</span><br><span class="line">* &quot;&#x2F;etc&#x2F;init.d&#x2F;resolvconf reload&quot; calls scripts in</span><br><span class="line">  &#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F; which update DNS cache configuration file</span><br><span class="line">  fragments, reload daemons and regenerate &#x2F;etc&#x2F;resolv.conf.  If</span><br><span class="line">  the latter has changed then scripts in &#x2F;etc&#x2F;resolvconf&#x2F;update-libc.d&#x2F;</span><br><span class="line">  are run.</span><br><span class="line"></span><br><span class="line">Usage information for developers</span><br><span class="line">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">Interface configurers send resolver information to resolvconf in the format</span><br><span class="line">of the familiar &#x2F;etc&#x2F;resolv.conf file.  Thus, for example, a program foo that</span><br><span class="line">has configured interface $IFACE would do the following after generating a</span><br><span class="line">resolv.conf file named &#39;new-resolv.conf&#39;.</span><br><span class="line"></span><br><span class="line">      resolvconf -a &quot;$&#123;IFACE&#125;.foo&quot; &lt; new-resolv.conf</span><br><span class="line"></span><br><span class="line">This command updates the resolver information related to interface $IFACE and</span><br><span class="line">configurer foo.  Any information previously sent for this interface&#x2F;configurer</span><br><span class="line">combination is overwritten.  On bringing the interface down, the configurer</span><br><span class="line">(foo) would do the following.  </span><br><span class="line"></span><br><span class="line">      resolvconf -d &quot;$&#123;IFACE&#125;.foo&quot;</span><br><span class="line"></span><br><span class="line">For another example, the proxy script for pppd forwards to resolvconf the</span><br><span class="line">resolver information that is made available to ip-up.d&#x2F; and ip-down.d&#x2F; scripts</span><br><span class="line">in environment variables DNS1, etc.</span><br><span class="line"></span><br><span class="line">      echo &quot;nameserver $DNS1&quot; | resolvconf -a &quot;$&#123;IFACE&#125;.pppd&quot;</span><br><span class="line"></span><br><span class="line">For additional examples, look at the hook scripts for isc-dhcp-client and</span><br><span class="line">ifupdown.  Support for other configurers including dhcpcd, pump and udhcpc has</span><br><span class="line">been added to those packages.</span><br><span class="line"></span><br><span class="line">In general, any package that currently overwrites &#x2F;etc&#x2F;resolv.conf can be</span><br><span class="line">adapted to work with resolvconf while preserving backward compatibility by</span><br><span class="line">introducing a code fragment like the following.</span><br><span class="line"></span><br><span class="line">    MYNAME&#x3D;foo</span><br><span class="line">    if [ -x &#x2F;sbin&#x2F;resolvconf ] ; then</span><br><span class="line">      if [ &quot;$DIRECTION&quot; &#x3D; &quot;up&quot; ] ; then</span><br><span class="line">         echo -n &quot;$RESOLVINFO&quot; | &#x2F;sbin&#x2F;resolvconf -a &quot;$&#123;IFACE&#125;.$&#123;MYNAME&#125;&quot;</span><br><span class="line">      else</span><br><span class="line">         &#x2F;sbin&#x2F;resolvconf -d &quot;$&#123;IFACE&#125;.$&#123;MYNAME&#125;&quot;</span><br><span class="line">      fi</span><br><span class="line">    else</span><br><span class="line">         # Do clever things to &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">&#x2F;sbin&#x2F;resolvconf stores the information sent to it and then runs the scripts</span><br><span class="line">in &#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F; .  One of the latter generates the libc resolver</span><br><span class="line">configuration file.  Others generate lists of forwarders for dnsmasq or pdnsd</span><br><span class="line">to use.  Any other program that needs to take action when resolver information</span><br><span class="line">is updated could likewise employ a script in &#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F; .</span><br><span class="line"></span><br><span class="line">Usage information for maintainers</span><br><span class="line">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">Normally, when the resolvconf package is first installed the resolvconf</span><br><span class="line">program takes control of &#x2F;etc&#x2F;resolv.conf: it writes the file</span><br><span class="line">&#x2F;run&#x2F;resolvconf&#x2F;resolv.conf to which &#x2F;etc&#x2F;resolv.conf is a symbolic link.</span><br><span class="line">Resolvconf derives the contents of that file from nameserver information</span><br><span class="line">that has been sent to it by other programs, as described above.</span><br><span class="line"></span><br><span class="line">Resolvconf is not part of the base system in Debian; it is generally</span><br><span class="line">installed on a Debian system after the system has fully booted.  At that point</span><br><span class="line">interface configurers have already configured the machine&#39;s network interfaces</span><br><span class="line">and obtained nameserver information.  A local forwarding nameserver may also</span><br><span class="line">have started.  Because resolvconf is installed only later, the latter programs</span><br><span class="line">have not sent their nameserver information to resolvconf.  This means that</span><br><span class="line">after installation resolvconf does not have complete nameserver information.</span><br><span class="line">The most reliable solution to this problem is to reboot.  After reboot, all</span><br><span class="line">other programs detect resolvconf&#39;s presence when they start or configure</span><br><span class="line">interfaces and send their information to resolvconf and&#x2F;or obtain their</span><br><span class="line">nameserver information from resolvconf.  But Debian rightly discourages</span><br><span class="line">requiring the administrator to reboot, so the resolvconf package has been so</span><br><span class="line">designed that it partially addresses the problem just outlined, in the manner</span><br><span class="line">described below.  (In the future the problem may be fully solved, but this</span><br><span class="line">will require the cooperation of other Debian package maintainers.  This is</span><br><span class="line">less of a problem in Ubuntu, where resolvconf is part of the base system.)</span><br><span class="line"></span><br><span class="line">In order partially to address the problem of resolvconf having incomplete</span><br><span class="line">information after installation until the first reboot, resolvconf includes</span><br><span class="line">the entire contents of the original (i.e., pre-resolvconf-installation)</span><br><span class="line">resolv.conf in its runtime database.  Consequently, nameserver addresses are</span><br><span class="line">not lost when resolvconf is installed.  Unfortunately this also means that</span><br><span class="line">those addresses are not removed when interfaces are brought down.</span><br><span class="line"></span><br><span class="line">Another way that the resolvconf package helps to address the problem is to</span><br><span class="line">allow other parties to call &#x2F;sbin&#x2F;resolvconf as soon as it appears in the</span><br><span class="line">filesystem: nameserver information can be registered with resolvconf before</span><br><span class="line">the resolvconf&#39;s postinst runs.  This means that when, for example, dnsmasq</span><br><span class="line">and resolvconf are installed in the same dpkg run, and dnsmasq happens to be</span><br><span class="line">configured first, dnsmasq will still successfully register its nameserver</span><br><span class="line">address with resolvconf.</span><br><span class="line"></span><br><span class="line">The correct and complete way to solve the problem is for all suppliers of</span><br><span class="line">nameserver information to supply their information to resolvconf after</span><br><span class="line">resolvconf has been installed.</span><br><span class="line"></span><br><span class="line">As of resolvconf release 1.55 this is supported via the following mechanism.</span><br><span class="line">Any package, foo, that supports supplying information to resolvconf should</span><br><span class="line">include a hook script &#x2F;usr&#x2F;lib&#x2F;resolvconf&#x2F;dpkg-event.d&#x2F;foo which, when called</span><br><span class="line">with the argument &quot;install&quot;, takes whatever actions are necessary to cause the</span><br><span class="line">program(s) in foo to supply their nameserver information to resolvconf; and</span><br><span class="line">when called with the argument &quot;remove&quot; takes whatever actions are appropriate</span><br><span class="line">given that the resolvconf package has been removed.</span><br><span class="line"></span><br><span class="line">The hook script thus has the following form.</span><br><span class="line"></span><br><span class="line">    #!&#x2F;bin&#x2F;sh</span><br><span class="line">    #</span><br><span class="line">    # &#x2F;usr&#x2F;lib&#x2F;resolvconf&#x2F;dpkg-event.d&#x2F;foo</span><br><span class="line">    #</span><br><span class="line">    # The resolvconf dpkg-event hook script for the foo package</span><br><span class="line">    #</span><br><span class="line">    if foo_is_running ; then</span><br><span class="line">        if [ &quot;$1&quot; &#x3D; &quot;install&quot; ] ; then</span><br><span class="line">            foo-ctrl send-nameserver-info-to-resolvconf</span><br><span class="line">        elif [ &quot;$1&quot; &#x3D; &quot;remove&quot; ] ; then</span><br><span class="line">            ...</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">If foo is controlled by an initscript whose methods take appropriate actions</span><br><span class="line">conditional upon resolvconf&#39;s presence then something like the following might</span><br><span class="line">be appropriate.</span><br><span class="line"></span><br><span class="line">        force_reload_foo() &#123;</span><br><span class="line">            if which invoke-rc.d &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 ; then</span><br><span class="line">                invoke-rc.d foo force-reload</span><br><span class="line">            elif [ -x &#x2F;etc&#x2F;init.d&#x2F;foo ] ; then</span><br><span class="line">                &#x2F;etc&#x2F;init.d&#x2F;foo force-reload</span><br><span class="line">            fi</span><br><span class="line">        &#125;</span><br><span class="line">        case &quot;$1&quot; in</span><br><span class="line">            install|remove) force_reload_foo ;;</span><br><span class="line">        esac</span><br><span class="line"></span><br><span class="line">The hook script is called (with argument &quot;install&quot;) from resolvconf&#39;s postinst</span><br><span class="line">&quot;configure&quot; method and (with &quot;remove&quot;) from resolvconf&#39;s postrm &quot;remove&quot;</span><br><span class="line">method.</span><br><span class="line"></span><br><span class="line">Foo&#39;s hook script is called with argument &quot;install&quot; if and only if foo is</span><br><span class="line">fully installed both when resolvconf&#39;s preinst install runs and when its</span><br><span class="line">postinst configure runs.  The hook script is called with argument &quot;remove&quot; if</span><br><span class="line">and only if foo is fully installed when resolvconf&#39;s postrm remove runs.</span><br><span class="line"></span><br><span class="line">The hook script must be owned by root and have its execute permission bit set</span><br><span class="line">and must have the same name as the package that owns it.</span><br><span class="line"></span><br><span class="line">Arguments other than &quot;install&quot; and &quot;remove&quot; are reserved for future use and</span><br><span class="line">must be silently ignored.</span><br><span class="line"></span><br><span class="line">When the resolvconf package is installed it performs configuration actions</span><br><span class="line">that are governed by the following two debconf settings.</span><br><span class="line"></span><br><span class="line">1. resolvconf&#x2F;linkify-resolvconf</span><br><span class="line"></span><br><span class="line">When this is true, the package makes a single attempt to create a symbolic</span><br><span class="line">link &#x2F;etc&#x2F;resolv.conf with target ..&#x2F;run&#x2F;resolvconf&#x2F;resolv.conf (Ubuntu) or</span><br><span class="line">&#x2F;etc&#x2F;resolvconf&#x2F;run&#x2F;resolv.conf (Debian). (N.B. In both Ubuntu and Debian</span><br><span class="line">this points ultimately to &#x2F;run&#x2F;resolvconf&#x2F;resolv.conf .)</span><br><span class="line"></span><br><span class="line">2. resolvconf&#x2F;link-tail-to-original</span><br><span class="line"></span><br><span class="line">When this is true, the package makes a single attempt to create a symbolic</span><br><span class="line">link &#x2F;etc&#x2F;resolvconf&#x2F;resolv.conf.d&#x2F;tail -&gt; original. The purpose of this is</span><br><span class="line">to cause original nameserver configuration to be included in the dynamic</span><br><span class="line">resolv.conf even after reboot.</span><br><span class="line"></span><br><span class="line">In either case, after making the single attempt the package postinst writes</span><br><span class="line">a flag file &#x2F;var&#x2F;lib&#x2F;resolvconf&#x2F;linkified whose presence causes the postinst</span><br><span class="line">not to make another attempt to create either symlink. However, the command</span><br><span class="line">&quot;dpkg-reconfigure resolvconf&quot; ignores the flag and causes the package to</span><br><span class="line">attempt once again to create each symlink if the corresponding debconf</span><br><span class="line">setting is true.</span><br><span class="line"></span><br><span class="line">Usage information for administrators</span><br><span class="line">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">The generation of the resolv.conf file can be controlled by editing the</span><br><span class="line">&#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F;libc script.  Different strategies can be followed.</span><br><span class="line">For example, one possible strategy would be to put only the most recently</span><br><span class="line">provided information into resolv.conf .  The current default strategy is to</span><br><span class="line">put *all* available resolver information into resolv.conf, ordered by</span><br><span class="line">interface type as listed in the interface-order(5) file, except that no</span><br><span class="line">addresses are listed after a loopback address.</span><br><span class="line"></span><br><span class="line">The admin can of course disable resolv.conf automagic by deleting the</span><br><span class="line">&#x2F;etc&#x2F;resolv.conf symlink and putting a static file at that location.</span><br><span class="line"></span><br><span class="line">Once you have installed resolvconf properly you don&#39;t normally need to run</span><br><span class="line">&#x2F;sbin&#x2F;resolvconf from the command line.  However, I once encountered a</span><br><span class="line">situation in which I did that.  Perhaps it is a useful illustration.  My ISP&#39;s</span><br><span class="line">nameserver went down and thus my caching nameserver could not resolve names.</span><br><span class="line">I knew of another host belonging to my ISP that I could use so I simply did:</span><br><span class="line"></span><br><span class="line">    # echo &quot;nameserver ww.xx.yy.zz&quot; | resolvconf -a dummy</span><br><span class="line"></span><br><span class="line">This added the necessary nameserver line to dnsmasq&#39;s nameserver list.  When</span><br><span class="line">my ISP&#39;s regular nameserver was fixed I did:</span><br><span class="line"></span><br><span class="line">    # resolvconf -d dummy</span><br><span class="line"></span><br><span class="line">to restore the original situation.</span><br><span class="line"></span><br><span class="line">FAQ</span><br><span class="line">~~~</span><br><span class="line">Q. Why call it &#39;resolvconf&#39; instead of &#39;update-resolver&#39; or so?</span><br><span class="line">A. Debian&#39;s update-* commands are mostly maintainer programs that update</span><br><span class="line">   static configuration files in &#x2F;etc&#x2F;.  Mostly they run at package</span><br><span class="line">   install time.  Resolvconf, in contrast, is a run-time configurer.</span><br><span class="line"></span><br><span class="line">TODO</span><br><span class="line">~~~~</span><br><span class="line">  * bind9</span><br><span class="line">    # 483098: bind9: Please add resolvconf hook script to update</span><br><span class="line">      forwarders list</span><br><span class="line">      - NO REPLY for several years</span><br><span class="line">    # 641714: Please add resolvconf packaging-event hook script</span><br><span class="line">      - NO REPLY for several years</span><br><span class="line">  * dnscache-run (from djbdns)</span><br><span class="line">    # 582755: Add resolvconf support</span><br><span class="line">      - NO REPLY for several years</span><br><span class="line">  * gnome-ppp</span><br><span class="line">    # 258064: Writes to &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">      - NO ACTION for many years</span><br><span class="line">      - WORKAROUND introduced in July 2004 was to make gnome-ppp Conflict</span><br><span class="line">        with resolvconf</span><br><span class="line">  * gnome-system-tools</span><br><span class="line">    # 258553: Incompatible with resolvconf</span><br><span class="line">      - NO ACTION for many years</span><br><span class="line">  * ifupdown</span><br><span class="line">    + Handle dns-* commands natively so that the resolver is configured</span><br><span class="line">      before &quot;up&quot; commands are run</span><br><span class="line">  * isc-dhcp-client</span><br><span class="line">    # 700966: Please add resolvconf packaging-event hook script</span><br><span class="line">      - NO REPLY for more than a year</span><br><span class="line">  * kppp</span><br><span class="line">    # 695121; LP#1086336: Writes to &#x2F;etc&#x2F;resolvconf</span><br><span class="line">      - NO REPLY for more than a year</span><br><span class="line">  * libadns1</span><br><span class="line">    + It consults resolv.conf so it should already be supported.</span><br><span class="line">      However, someone should test it.</span><br><span class="line">  * libares0</span><br><span class="line">    + It consults resolv.conf so it should already be supported.</span><br><span class="line">      However, someone should test it.</span><br><span class="line">  * libdjbdns1</span><br><span class="line">    + It consults resolv.conf so it should already be supported.</span><br><span class="line">      However, someone should test it.</span><br><span class="line">    + Someone should investigate whether it could be supported better.</span><br><span class="line">      Perhaps &#x2F;etc&#x2F;dnsrewrite should be dynamically updated?</span><br><span class="line">  * libfiredns0.9</span><br><span class="line">    + It consults resolv.conf so it should already be supported.</span><br><span class="line">      However, someone should test it.</span><br><span class="line">    + Someone should investigate whether it could be supported better.</span><br><span class="line">      Perhaps &#x2F;etc&#x2F;firedns.conf should be dynamically updated?</span><br><span class="line">  * maradns</span><br><span class="line">    # 608946: resolvconf integration</span><br><span class="line">      - Its initscript should probably do</span><br><span class="line">	    echo &quot;nameserver 127.0.0.1&quot; | resolvconf -a lo.maradns</span><br><span class="line">	as dnsmasq and pdnsd do.</span><br><span class="line">      - Could it have an update script that sets the &quot;upstream_servers&quot;</span><br><span class="line">	variable?</span><br><span class="line">      - Tagged WONTFIX since the maintainer doesn&#39;t have any free time</span><br><span class="line">  * Net::DNS</span><br><span class="line">    + It consults resolv.conf so it should already be supported.</span><br><span class="line">      However, someone should test it.</span><br><span class="line">    + Someone should investigate whether it could be supported better.</span><br><span class="line">  * network-manager</span><br><span class="line">    # 639803: Please add resolvconf packaging-event hook script</span><br><span class="line">      - NO REPLY for over a year</span><br><span class="line">  * nscd</span><br><span class="line">    # 266817: Please suggest resolvconf</span><br><span class="line">      - Tagged WONTFIX</span><br><span class="line">    # 700385: Invalidate hosts cache on resolv.conf change, or</span><br><span class="line">              include resolvconf update script to invalidate it</span><br><span class="line">      - NO REPLY for over a year</span><br><span class="line">  * pdns-recursor</span><br><span class="line">    # 700850: Please add resolvconf packaging-event hook script</span><br><span class="line">      - IN PROGRESS</span><br><span class="line">  * pdnsd</span><br><span class="line">    # 628846: Please add resolvconf packaging-event hook script</span><br><span class="line">      - NO REPLY for over a year</span><br><span class="line">  * ppp</span><br><span class="line">    # 208095: Please suggest resolvconf</span><br><span class="line">      - Tagged WONTFIX</span><br><span class="line">  * resolvconf</span><br><span class="line">    + See http:&#x2F;&#x2F;bugs.debian.org&#x2F;resolvconf</span><br><span class="line">  * Users of resolver libraries</span><br><span class="line">    + For any package that contains a program that uses resolver(3) or a</span><br><span class="line">      compatible library, add a &#x2F;etc&#x2F;resolvconf&#x2F;update-libc.d&#x2F; script to</span><br><span class="line">      notify running instances of the program that the resolver</span><br><span class="line">      configuration file has changed.</span><br><span class="line"></span><br><span class="line">DONE</span><br><span class="line">~~~~</span><br><span class="line">  * bind</span><br><span class="line">    + Drop support for this obsolete version of BIND</span><br><span class="line">      - DONE in resolvconf 1.48</span><br><span class="line">      - bind is now gone from Debian</span><br><span class="line">  * bind9</span><br><span class="line">    + Create script &#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F;bind to:</span><br><span class="line">      . Convert &#x2F;etc&#x2F;bind&#x2F;named.options.sed into &#x2F;var&#x2F;run&#x2F;bind&#x2F;named.options</span><br><span class="line">        (which is to be included in &#x2F;etc&#x2F;bind&#x2F;named.conf)</span><br><span class="line">      . Then run &quot;&#x2F;etc&#x2F;init.d&#x2F;bind9 reload&quot; or &quot;&#x2F;etc&#x2F;init.d&#x2F;bind reload&quot;</span><br><span class="line">      - DONE in resolvconf package</span><br><span class="line">    # 199255: Please support resolvconf</span><br><span class="line">      - DONE in 1:9.2.3-1</span><br><span class="line">    # 252232: Please use &#39;lo.named&#39; as resolvconf record name</span><br><span class="line">      - DONE in 1:9.3.2-2</span><br><span class="line">    # 252285: Please Suggest resolvconf</span><br><span class="line">      - DONE in 1:9.4.2-2</span><br><span class="line">  * debian-installer</span><br><span class="line">    # 255187: Please add resolvconf support</span><br><span class="line">      - DONE in version netcfg&#x2F;0.71</span><br><span class="line">  * dhcp3-client</span><br><span class="line">    + Use resolvconf via &#x2F;etc&#x2F;dhcp3&#x2F;dhclient-enter-hooks</span><br><span class="line">      - DONE in resolvconf package</span><br><span class="line">    # 171798: dhclient-script should source hook scripts, not run-parts them</span><br><span class="line">      - DONE in 3.0+3.0.1rc11-5</span><br><span class="line">  * dhcp-client</span><br><span class="line">    # 248399: Needs resolvconf support</span><br><span class="line">      - DONE in 2.0pl5-18</span><br><span class="line">  * dhcpcd</span><br><span class="line">    + Support resolvconf without requiring local changes</span><br><span class="line">      - DONE in 1:1.3.22pl4-7</span><br><span class="line">  * dnsmasq</span><br><span class="line">    + Create script &#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F;dnsmasq to</span><br><span class="line">      generate &#x2F;var&#x2F;run&#x2F;dnsmasq&#x2F;resolv.conf</span><br><span class="line">      - DONE in resolvconf package</span><br><span class="line">    + Support resolvconf without requiring local changes </span><br><span class="line">      - DONE in 1.13-2</span><br><span class="line">    + Include &#x2F;etc&#x2F;resolvconf&#x2F;update.d&#x2F;dnsmasq</span><br><span class="line">      - DONE in 1.13-3</span><br><span class="line">    # 628003, #641717: Add resolvconf packaging-event hook script</span><br><span class="line">      - DONE in 2.58-3</span><br><span class="line">    # 716908: Apply patch to use &quot;--after&quot; option</span><br><span class="line">      - SUBMITTED</span><br><span class="line">  * fetchmail</span><br><span class="line">    + Use resolvconf to trigger restart on change of nameserver info</span><br><span class="line">      - DONE in 6.2.5-4</span><br><span class="line">  * ifupdown</span><br><span class="line">    + Use resolvconf via &#x2F;etc&#x2F;network&#x2F;if-(up|down).d&#x2F;</span><br><span class="line">      - DONE in resolvconf package</span><br><span class="line">  * laptop-net</span><br><span class="line">    + Use resolvconf instead of overwriting &#x2F;etc&#x2F;resolv.conf .</span><br><span class="line">      - DONE in 2.21-1</span><br><span class="line">  * pcmcia-cs</span><br><span class="line">    # 212823: pcmcia-cs: please add support for the resolvconf package</span><br><span class="line">      - DONE in 3.2.5-1</span><br><span class="line">  * pdns-recursor</span><br><span class="line">    # 308677: &#x2F;etc&#x2F;init.d&#x2F;pdns-recursor: Please add resolvconf calls</span><br><span class="line">      - DONE in 2.9.18-4</span><br><span class="line">  * pdns-server</span><br><span class="line">    # 304528: Please add resolvconf update script in order to automate</span><br><span class="line">      the creation of the recursors list</span><br><span class="line">    </span><br><span class="line">      - DONE in 2.9.18-4</span><br><span class="line">  * pdnsd</span><br><span class="line">    # 247946: Fix resolvconf support</span><br><span class="line">      - DONE in pdnsd 1.1.10par-4</span><br><span class="line">  * postfix</span><br><span class="line">    # 212552: Please reload on change of &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">      - DONE in 2.0.16-4</span><br><span class="line">  * ppp</span><br><span class="line">    + Use resolvconf via &#x2F;etc&#x2F;ppp&#x2F;ip-(up|down).d&#x2F;</span><br><span class="line">      - DONE in resolvconf package</span><br><span class="line">  * pppconfig</span><br><span class="line">    # 242092: Disable pppconfig&#39;s futzing with &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">      - DONE in 2.3.1</span><br><span class="line">    # 266819: Please suggest resolvconf</span><br><span class="line">      - DONE in 2.3.18+nmu3</span><br><span class="line">  * pppoeconf</span><br><span class="line">    # 212756: Eliminate &#x2F;etc&#x2F;ppp&#x2F;ip-up.d&#x2F;000usepeerdns</span><br><span class="line">      - DONE in 1.0</span><br><span class="line">  * pump</span><br><span class="line">    # 194204: Please add proper resolvconf support</span><br><span class="line">      - DONE in 0.8.15-1</span><br><span class="line">  * resolvconf</span><br><span class="line">    </span><br><span class="line">    + Created and added to dialup and broadband tasks</span><br><span class="line">  * squid</span><br><span class="line">    # 200572: Please use resolvconf resolver-update notification</span><br><span class="line">      - DONE in 2.5.3-7</span><br><span class="line">  * totd</span><br><span class="line">    + Use resolvconf to update resolv.conf and to get updated</span><br><span class="line">      nameserver list</span><br><span class="line">  * udhcpc</span><br><span class="line">    # 302019: Please use resolvconf</span><br><span class="line">      - DONE in 0.9.8cvs20050124-3</span><br><span class="line">  * unbound</span><br><span class="line">    # 562031: Pleage tell resolvconf about unbound on localhost</span><br><span class="line">      - DONE in 1.4.9-1</span><br><span class="line">    # 567879: Please add resolvconf integration</span><br><span class="line">      - DONE in 1.4.9-1</span><br><span class="line">    # 777228: Please add resolvconf packaging-event hook script</span><br><span class="line">      - DONE in 1.5.7-2</span><br><span class="line">  * webmin-core</span><br><span class="line">    # 223483: Please play nicely with resolvconf</span><br><span class="line">      - DONE in 1.150-2</span><br><span class="line">  * webmin-wvdial</span><br><span class="line">    # 288481: Deletes symlink at &#x2F;etc&#x2F;resolv.conf</span><br><span class="line">      - DONE in 1.160-3</span><br><span class="line"></span><br><span class="line">Credits</span><br></pre></td></tr></table></figure>
<p>The basic idea for resolvconf was expressed by Emile van Bergen on the<br>debian-devel mailing list.</p>
<pre><code>http://lists.debian.org/debian-devel/2003/04/msg00580.html
http://lists.debian.org/debian-devel/2003/04/msg00629.html
</code></pre>
<p>I claim any braindamage in the implementation as my own.</p>
<p>Werner Heuser, Joe Nahmias, Andreas Barth and Marco Nenciarini have all<br>been helpful sponsors.</p>
<p>This document was written by Thomas Hood <a href="mailto:&#106;&#x64;&#x74;&#x68;&#111;&#111;&#100;&#64;&#x67;&#x6d;&#x61;&#x69;&#108;&#x2e;&#99;&#111;&#x6d;">&#106;&#x64;&#x74;&#x68;&#111;&#111;&#100;&#64;&#x67;&#x6d;&#x61;&#x69;&#108;&#x2e;&#99;&#111;&#x6d;</a> using some<br>material written by John Hasler.</p>
<p>I thank all the maintainers who have helped with this effort by adding<br>resolvconf support to their packages.</p>
<p>This document is part of resolvconf.<br>~~~~~~~</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-28T09:39:24.875Z" title="2021/1/28 下午5:39:24">2021-01-28</time>发表</span><span class="level-item"><time dateTime="2021-03-03T10:43:30.275Z" title="2021/3/3 下午6:43:30">2021-03-03</time>更新</span><span class="level-item">3 分钟读完 (大约518个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/28/1739.html">systemd 网络配置命令</a></h1><div class="content"><p>&lt; ! – more – &gt;</p>
<blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/boyemachao/article/details/87366505">https://blog.csdn.net/boyemachao/article/details/87366505</a></p>
</blockquote>
<p>sytemd-network.service 的配置文件可以位于 <code>/usr/lib/systemd/network/</code> 或者 <code>/etc/systemd/network/</code> 目录下，后者具有最高优先级。配置文件有三种类型：</p>
<ul>
<li><code>.network</code> 文件，设置网卡的 IP 等各项属性</li>
<li><code>.netdev</code> 文件，新建一个虚拟网卡</li>
<li><code>.link</code> 文件，每当一个网卡出现时，udev 都会查找与它同名的 <code>.link</code> 文件</li>
</ul>
<p>这几类文件都遵循下面的规则：</p>
<ul>
<li>各选项的值都支持星号 * 通配符</li>
<li>当 [<a target="_blank" rel="noopener" href="https://www.centos.bz/tag/match/">Match</a>] 段内的条件都匹配时，后面的配置项才会被激活</li>
<li>如果 [Match] 段为空，表示后面的配置项在任何情况下都可用</li>
<li>无论配置文件在哪个目录，都会统一按照字典顺序进行加载</li>
<li>同名文件可以相互替换</li>
</ul>
<p>如果要给 enp0s20f6 配置一个静态 IP ，可以在 <code>/etc/systemd/network/</code> 目录下新建一个 <code>eth0.network</code> 文件，内容如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[Match]</span><br><span class="line">Name=enp0s20f6  # 匹配名为 enp0s20f6 的网卡</span><br><span class="line">[Network]</span><br><span class="line">DHCP=none    # 关闭 DHCP 客户端</span><br><span class="line">Address=192.168.5.242/24  # 设置 IP 和子网掩码（24位）</span><br><span class="line">Gateway=192.168.5.50   # 设置网关，这项设置会将该网卡添加到缺省路由</span><br><span class="line">DNS=8.8.8.8  # 设置 DNS</span><br></pre></td></tr></table></figure>

<p>如果要使用 DHCP 自动获取 IP ，也将 DHCP 设为如下值：</p>
<ul>
<li>v4 ，只接受 ipv4 的 IP</li>
<li>v6 ，只接受 ipv6 的 IP</li>
<li>both ，同时接受 ipv4 和 ipv6 格式的 IP</li>
</ul>
<p>启动 DHCP 客户端后，Gateway 和 DNS 也会自动获取，有时我们不希望这样，可以在配置文件中添加一个 [DHCP] 段，做如下设置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[DHCP]</span><br><span class="line">UseDNS=false # 不使用 DHCP 分配的 DNS ，默认值是 true</span><br><span class="line">UseRoutes=false # 不会将本网卡设为缺省路由，默认值是 true </span><br></pre></td></tr></table></figure>

<p>在这里会出现一个 Bug ，就是 UseRoutes 设置无效，高版本中已经解决，解决方案在 <a target="_blank" rel="noopener" href="https://github.com/systemd/systemd/pull/3075">https://github.com/systemd/systemd/pull/3075</a> 。</p>
<p>配置完之后重启网络：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart systemd-networkd</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-27T09:54:59.929Z" title="2021/1/27 下午5:54:59">2021-01-27</time>发表</span><span class="level-item"><time dateTime="2021-03-03T09:19:54.442Z" title="2021/3/3 下午5:19:54">2021-03-03</time>更新</span><span class="level-item">7 分钟读完 (大约1062个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/27/1754.html">Git 学习笔记</a></h1><div class="content"><blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/">https://www.liaoxuefeng.com/</a></p>
</blockquote>
<h1 id="Git简介"><a href="#Git简介" class="headerlink" title="Git简介"></a>Git简介</h1><h2 id="Git的特点"><a href="#Git的特点" class="headerlink" title="Git的特点"></a>Git的特点</h2><ul>
<li>Git是一种分布式版本控制系统（区别于集中式）。</li>
<li>在Git的版本管理中，文件的创建、修改、删除都被Git处理为“修改”。Git管理的是修改，而非文件。</li>
</ul>
<h1 id="Git上手"><a href="#Git上手" class="headerlink" title="Git上手"></a>Git上手</h1><h2 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h2><p>首先从<a target="_blank" rel="noopener" href="https://git-scm.com/">Git官网</a>下载安装包，安装完成后，打开Git Bash，输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;Your Name&quot;</span><br><span class="line">git config --global user.email &quot;email@example.com&quot;</span><br></pre></td></tr></table></figure>

<h2 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h2><ol>
<li><p>首先创建并进入文件夹</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir learngit</span><br><span class="line">cd learngit</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过<code>git init</code>命令把这个目录变成Git可以管理的仓库</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="添加文件"><a href="#添加文件" class="headerlink" title="添加文件"></a>添加文件</h2><ol>
<li><p>将文件（假如叫*.txt）放到文件夹下，然后在该文件夹下执行</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add *.txt</span><br></pre></td></tr></table></figure>

<p> 也可以同时添加多个文件或分多次添加多个文件。</p>
</li>
<li><p>提交文件，并添加更新内容的说明</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;I wrote a file named *.txt&quot;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="时光机穿梭"><a href="#时光机穿梭" class="headerlink" title="时光机穿梭"></a>时光机穿梭</h1><h2 id="更新文档"><a href="#更新文档" class="headerlink" title="更新文档"></a>更新文档</h2><p>修改完文档后，重复“<a href="#%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6">添加文件</a>”小节中的步骤即可更新修改内容到版本库。</p>
<p>另外，使用命令<code>git status</code>可以查看版本库的<a href="#%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E6%9A%82%E5%AD%98%E5%8C%BA">暂存区</a>的当前状态，命令<code>git diff</code>可以查看修改的内容。</p>
<h2 id="版本找回"><a href="#版本找回" class="headerlink" title="版本找回"></a>版本找回</h2><p>每次执行<code>git commit</code>都会提交一个新的版本，使用<code>git log</code>可以查看最近的三个版本记录，<code>git log --pretty=oneline</code>可以简化输出。</p>
<p>回退到上一个版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure>

<p>回退到上上个版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^^</span><br></pre></td></tr></table></figure>

<p>回退100个版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~100</span><br></pre></td></tr></table></figure>

<p>上面的例子说明<code>HEAD</code>（其实是一个指针）就是当前版本。</p>
<p>也可直接跳到指定版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard id</span><br></pre></td></tr></table></figure>

<p>其中<code>id</code>可以使用命令<code>git reflog</code>查看（<code>id</code>没必要写全，写前几位就行）。该命令记录了每一次版本更换命令。</p>
<h2 id="工作区、暂存区和主存区"><a href="#工作区、暂存区和主存区" class="headerlink" title="工作区、暂存区和主存区"></a>工作区、暂存区和主存区</h2><p>如图，<code>git add</code>命令会将<strong>工作区（Working Directory）</strong>的文件添加到版本库的<strong>暂存区（stage）</strong>处，而<code>git commit</code>命令会将暂存区的文件添加到<strong>主存区（master）</strong>处（姑且这么叫吧）。</p>
<p><img src="E:\Typora_img\Git学习\0" alt="工作区和暂存区"></p>
<p><img src="E:\Typora_img\Git学习\git-command.jpg" alt="img"></p>
<p>另外可以发现，在一般情况下，工作区和主存区的文件树都是相对完整的，而暂存区只有部分文件。</p>
<h2 id="版本丢弃"><a href="#版本丢弃" class="headerlink" title="版本丢弃"></a>版本丢弃</h2><p><img src="E:\Typora_img\Git学习\1352126739_7909.jpg" alt="img"></p>
<h3 id="丢弃工作区的改动"><a href="#丢弃工作区的改动" class="headerlink" title="丢弃工作区的改动"></a>丢弃工作区的改动</h3><p>当执行 <code>git checkout .</code>或者<code>git checkout -- &lt;file&gt;</code>命令时，会用暂存区全部或指定的文件替换工作区的文件。<strong>这个操作很危险，会清除工作区中未添加到暂存区的改动。</strong></p>
<h3 id="丢弃暂存区的改动"><a href="#丢弃暂存区的改动" class="headerlink" title="丢弃暂存区的改动"></a>丢弃暂存区的改动</h3><p>命令<code>git reset HEAD &lt;file&gt;</code>可以把暂存区的指定文件<code>&lt;file&gt;</code>的修改撤销，重新放回工作区（unstage），这时候工作区的<code>&lt;file&gt;</code>的内容也会被修改，我们再使用<code>git checkout -- &lt;file&gt;</code>命令即可把工作区<code>&lt;file&gt;</code>的修改给丢弃掉，恢复工作区的状态。这样两步实现了暂存区指定文件<code>&lt;file&gt;</code>的丢弃。</p>
<p>也可以用<code>git rm --cached &lt;file&gt;</code>命令一步就把文件的修改信息从暂存区删除而不改变工作区。</p>
<p>如果暂存库的修改内容已经用<code>git commit</code>命令提交到本地版本库了，可以参考<a href="#%E7%89%88%E6%9C%AC%E6%89%BE%E5%9B%9E">版本找回</a>一节回退版本；若推送到了远程库则无法回退。</p>
<h3 id="丢弃工作区和暂存区的改动"><a href="#丢弃工作区和暂存区的改动" class="headerlink" title="丢弃工作区和暂存区的改动"></a>丢弃工作区和暂存区的改动</h3><p>当执行<code>git checkout HEAD .</code>或者<code>git checkout HEAD &lt;file&gt;</code>命令时，会用 HEAD 指向的 master 分支中的全部或者部分文件替换暂存区和以及工作区中的文件。<strong>这个命令也是极具危险性的，因为不但会清除工作区中未提交的改动，也会清除暂存区中未提交的改动。</strong></p>
<h2 id="文件删除"><a href="#文件删除" class="headerlink" title="文件删除"></a>文件删除</h2></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-24T08:20:15.978Z" title="2021/1/24 下午4:20:15">2021-01-24</time>发表</span><span class="level-item"><time dateTime="2021-03-03T09:25:29.763Z" title="2021/3/3 下午5:25:29">2021-03-03</time>更新</span><span class="level-item">1 小时读完 (大约7190个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/24/1620.html">Shell脚本命令学习</a></h1><div class="content"><blockquote>
<p>本文参考<a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-shell.html">菜鸟教程</a></p>
</blockquote>
<h1 id="Shell-简介"><a href="#Shell-简介" class="headerlink" title="Shell 简介"></a>Shell 简介</h1><h2 id="Shell-类型"><a href="#Shell-类型" class="headerlink" title="Shell 类型"></a>Shell 类型</h2><ul>
<li>Bourne Shell（/usr/bin/sh或/bin/sh）</li>
<li>Bourne Again Shell（/bin/bash）</li>
<li>C Shell（/usr/bin/csh）</li>
<li>Korn Shell（/usr/bin/ksh）</li>
<li>Shell for Root（/sbin/sh）</li>
</ul>
<p><strong>Linux操作系统缺省的shell是Bourne  Again  shell</strong>，它是Bourne  shell的扩展，简称Bash，与Bourne  shell完全向后兼容，并且在Bourne  shell的基础上增加、增强了很多特性。Bash放在/bin/bash中，它有许多特色，可以提供如命令补全、命令编辑和命令历史表等功能，它还包含了很多C  shell和Korn  shell中的优点，有灵活和强大的编程接口，同时又有很友好的用户界面。</p>
<p>查看当前的shell：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $SHELL</span><br></pre></td></tr></table></figure>

<h1 id="第一个-shell-脚本"><a href="#第一个-shell-脚本" class="headerlink" title="第一个 shell 脚本"></a>第一个 shell 脚本</h1><p>用vim打开新建文档test.sh：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim test.sh</span><br></pre></td></tr></table></figure>

<p>输入以下内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash	<span class="comment"># “#!”是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。sh和bash都可以。</span></span></span><br><span class="line">echo &quot;Hello World!&quot;	# 向窗口输出文本</span><br></pre></td></tr></table></figure>

<p>进入命令模式，:wq保存退出后，执行（以sh解释器为例，bash解释器同理）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh .&#x2F;test.sh</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh test.sh</span><br></pre></td></tr></table></figure>

<p>或直接指定解释器运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;bin&#x2F;sh test.sh</span><br></pre></td></tr></table></figure>

<p>用这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p>
<h2 id="sh-和-bash-命令的区别"><a href="#sh-和-bash-命令的区别" class="headerlink" title="sh 和 bash 命令的区别"></a>sh 和 bash 命令的区别</h2><blockquote>
<p>引用链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37687594/article/details/109005613">Linux中的Shell bash和sh区别</a></p>
</blockquote>
<p>sh跟bash的区别是：sh开启了<strong>POSIX模式</strong>，而bash没有。sh 遵循<strong>POSIX规范：“当某行代码出错时，不继续往下解释”</strong>。bash 就算出错，也会继续向下执行。</p>
<blockquote>
<p>POSIX表示可移植操作系统接口（Portable Operating System Interface of UNIX，缩写为 POSIX ）。POSIX标准意在期望获得源代码级别的软件可移植性。换句话说，为一个POSIX兼容的操作系统编写的程序，应该可以在任何其它的POSIX操作系统上编译执行。</p>
</blockquote>
<p>简单说，sh是bash的一种特殊的模式，sh就是开启了POSIX标准的bash，<code>/bin/sh</code>相当于<code>/bin/bash --posix</code>。</p>
<p>在Linux系统上<code>/bin/sh</code>往往是指向<code>/bin/bash</code>的符号链接，即</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s &#x2F;bin&#x2F;bash &#x2F;bin&#x2F;sh</span><br></pre></td></tr></table></figure>

<h1 id="Shell-注释"><a href="#Shell-注释" class="headerlink" title="Shell 注释"></a>Shell 注释</h1><h2 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h2><p>以#开头的行就是注释，会被解释器忽略。</p>
<h2 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;Symbol</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">Symbol</span><br></pre></td></tr></table></figure>

<p>其中Symbol可以替换成任意字符或字符串。</p>
<h1 id="Shell-命令"><a href="#Shell-命令" class="headerlink" title="Shell 命令"></a>Shell 命令</h1><h2 id="help-命令"><a href="#help-命令" class="headerlink" title="help 命令"></a>help 命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">help [-dms] [pattern ...]</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>output short description for each topic</td>
</tr>
<tr>
<td>-m</td>
<td>display usage in pseudo-manpage format</td>
</tr>
<tr>
<td>-s</td>
<td>output only a short usage synopsis for each topic matching PATTERN</td>
</tr>
</tbody></table>
<h2 id="Shell-命令一览"><a href="#Shell-命令一览" class="headerlink" title="Shell 命令一览"></a>Shell 命令一览</h2><blockquote>
<p>引用链接：<a target="_blank" rel="noopener" href="https://www.jb51.net/article/128918.htm">详解shell中source、sh、bash、./执行脚本的区别</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Shell命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>:</td>
<td>空，永远返回为true</td>
</tr>
<tr>
<td>.</td>
<td>从当前shell中执行操作</td>
</tr>
<tr>
<td>break</td>
<td>退出for、while、until或case语句</td>
</tr>
<tr>
<td>cd</td>
<td>改变到当前目录</td>
</tr>
<tr>
<td>continue</td>
<td>执行循环的下一步</td>
</tr>
<tr>
<td>echo</td>
<td>反馈信息到标准输出</td>
</tr>
<tr>
<td>eval</td>
<td>读取参数，执行结果命令</td>
</tr>
<tr>
<td>exec</td>
<td>执行命令，但不在当前shell</td>
</tr>
<tr>
<td>exit</td>
<td>退出当前shell</td>
</tr>
<tr>
<td>export</td>
<td>导出变量，使当前shell可利用它（导出成全局变量）</td>
</tr>
<tr>
<td>pwd</td>
<td>显示当前目录</td>
</tr>
<tr>
<td>read</td>
<td>从标准输入读取一行文本</td>
</tr>
<tr>
<td>readonly</td>
<td>使变量只读</td>
</tr>
<tr>
<td>return</td>
<td>退出函数并带有返回值</td>
</tr>
<tr>
<td>set</td>
<td>控制各种参数到标准输出的显示</td>
</tr>
<tr>
<td>shift</td>
<td>命令行参数向左偏移一个</td>
</tr>
<tr>
<td>test</td>
<td>评估条件表达式</td>
</tr>
<tr>
<td>times</td>
<td>显示shell运行过程的用户和系统时间</td>
</tr>
<tr>
<td>trap</td>
<td>当捕获信号时运行指定命令</td>
</tr>
<tr>
<td>ulimit</td>
<td>显示或设置shell资源</td>
</tr>
<tr>
<td>umask</td>
<td>显示或设置缺省文件创建模式</td>
</tr>
<tr>
<td>unset</td>
<td>从shell内存中删除变量或函数</td>
</tr>
<tr>
<td>wait</td>
<td>等待直到子进程运行完毕</td>
</tr>
</tbody></table>
<h2 id="echo-命令"><a href="#echo-命令" class="headerlink" title="echo 命令"></a>echo 命令</h2><h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><table>
<thead>
<tr>
<th>可选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>不加换行符</td>
</tr>
<tr>
<td>-e</td>
<td>使能对反斜杠转义符的解释</td>
</tr>
<tr>
<td>-E</td>
<td>禁止对反斜杠转义符的解释</td>
</tr>
</tbody></table>
<h3 id="字符转义"><a href="#字符转义" class="headerlink" title="字符转义"></a>字符转义</h3><p>执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">help echo</span><br></pre></td></tr></table></figure>

<p>即可看到所有能转义的字符</p>
<table>
<thead>
<tr>
<th>能转义的字符</th>
<th>转义后的作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>\a</code></td>
<td>alert (bell)</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>suppress further output</td>
</tr>
<tr>
<td><code>\e</code></td>
<td>escape character</td>
</tr>
<tr>
<td><code>\E</code></td>
<td>escape character</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>form feed</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>new line</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>carriage return</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>horizontal tab</td>
</tr>
<tr>
<td><code>\v</code></td>
<td>vertical tab</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>backslash</td>
</tr>
<tr>
<td><code>\0nnn</code></td>
<td>the character whose ASCII code is NNN (octal).  NNN can be 0 to 3 octal digits.</td>
</tr>
<tr>
<td><code>\xHH</code></td>
<td>the eight-bit character whose value is HH (hexadecimal).  HH can be one or two hex digits.</td>
</tr>
<tr>
<td><code>\uHHHH</code></td>
<td>the Unicode character whose value is the hexadecimal value HHHH. HHHH can be one to four hex digits.</td>
</tr>
<tr>
<td><code>\UHHHHHHHH</code></td>
<td>the Unicode character whose value is the hexadecimal value HHHHHHHH. HHHHHHHH can be one to eight hex digits.</td>
</tr>
</tbody></table>
<h3 id="显示结果定向至文件"><a href="#显示结果定向至文件" class="headerlink" title="显示结果定向至文件"></a>显示结果定向至文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;It is a test&quot; &gt; myfile</span><br></pre></td></tr></table></figure>

<h3 id="显示命令执行结果"><a href="#显示命令执行结果" class="headerlink" title="显示命令执行结果"></a>显示命令执行结果</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo `date`</span><br></pre></td></tr></table></figure>

<p>输出结果（当前时间）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mon 25 Jan 2021 05:22:36 PM CST</span><br></pre></td></tr></table></figure>

<h2 id="printf-命令"><a href="#printf-命令" class="headerlink" title="printf 命令"></a>printf 命令</h2><p>printf 命令模仿 C 程序库（library）里的 printf() 程序。</p>
<p>printf 由 POSIX 标准所定义，因此使用 printf 的脚本比使用 echo 移植性好。</p>
<p>printf 使用引用文本或空格分隔的参数，外面可以在 printf 中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。默认 printf 不会像 echo 自动添加换行符，我们可以手动添加 <code>\n</code>。</p>
<p>printf 命令的语法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">printf  format-string  [arguments...]</span><br></pre></td></tr></table></figure>

<p><strong>参数说明：</strong></p>
<ul>
<li><strong>format-string:</strong> 为格式控制字符串</li>
<li><strong>arguments:</strong> 为参数列表</li>
</ul>
<p>例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">printf &quot;%-10s %-8s %-4s\n&quot; 姓名 性别 体重kg  </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 郭靖 男 66.1234</span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 杨过 男 48.6543</span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 郭芙 女 47.9876</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> format-string为双引号</span></span><br><span class="line">printf &quot;%d %s\n&quot; 1 &quot;abc&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 单引号与双引号效果一样</span></span><br><span class="line">printf &#x27;%d %s\n&#x27; 1 &quot;abc&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 没有引号也可以输出</span></span><br><span class="line">printf %s abcdef</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 格式只指定了一个参数，但多出的参数仍然会按照该格式输出，format-string 被重用</span></span><br><span class="line">printf %s abc def</span><br><span class="line"></span><br><span class="line">printf &quot;%s\n&quot; abc def</span><br><span class="line"></span><br><span class="line">printf &quot;%s %s %s\n&quot; a b c d e f g h i j</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果没有 arguments，那么 %s 用NULL代替，%d 用 0 代替</span></span><br><span class="line">printf &quot;%s and %d \n&quot;</span><br></pre></td></tr></table></figure>

<h2 id="test-命令"><a href="#test-命令" class="headerlink" title="test 命令"></a>test 命令</h2><h3 id="数值测试"><a href="#数值测试" class="headerlink" title="数值测试"></a>数值测试</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">num1=100</span><br><span class="line">num2=100</span><br><span class="line">if test $num1 -eq $num2</span><br><span class="line">then</span><br><span class="line">  echo &#x27;两个数相等！&#x27;</span><br><span class="line">else</span><br><span class="line">  echo &#x27;两个数不相等！&#x27;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="字符串测试"><a href="#字符串测试" class="headerlink" title="字符串测试"></a>字符串测试</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">num1=&quot;ru1noob&quot;</span><br><span class="line">num2=&quot;runoob&quot;</span><br><span class="line">if test $num1 = $num2</span><br><span class="line">then</span><br><span class="line">  echo &#x27;两个字符串相等!&#x27;</span><br><span class="line">else</span><br><span class="line">  echo &#x27;两个字符串不相等!&#x27;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h3 id="文件测试"><a href="#文件测试" class="headerlink" title="文件测试"></a>文件测试</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /bin</span><br><span class="line">if test -e ./bash</span><br><span class="line">then</span><br><span class="line">  echo &#x27;文件已存在!&#x27;</span><br><span class="line">else</span><br><span class="line">  echo &#x27;文件不存在!&#x27;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h1 id="Shell-变量"><a href="#Shell-变量" class="headerlink" title="Shell 变量"></a>Shell 变量</h1><h2 id="变量命名规则"><a href="#变量命名规则" class="headerlink" title="变量命名规则"></a>变量命名规则</h2><ul>
<li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li>
<li>中间不能有空格，可以使用下划线（_）。</li>
<li>不能使用标点符号。</li>
<li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li>
</ul>
<h2 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h2><h3 id="显式定义"><a href="#显式定义" class="headerlink" title="显式定义"></a>显式定义</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;runoob.com&quot;</span><br></pre></td></tr></table></figure>

<p><strong>注意：等号左右都不能有空格！</strong></p>
<h3 id="隐式定义"><a href="#隐式定义" class="headerlink" title="隐式定义"></a>隐式定义</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for file in `ls /etc`</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for file in $(ls /etc)</span><br></pre></td></tr></table></figure>

<p>以上语句将 /etc 下目录的文件名循环出来。</p>
<h2 id="变量使用"><a href="#变量使用" class="headerlink" title="变量使用"></a>变量使用</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;wbx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br></pre></td></tr></table></figure>

<p>变量可以重新定义</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;tom&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">your_name=&quot;alibaba&quot;</span><br><span class="line">echo $your_name</span><br></pre></td></tr></table></figure>

<h2 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h2><ul>
<li><p>按作用域可分为</p>
<ul>
<li><p><strong>局部变量</strong></p>
<p>局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</p>
</li>
<li><p><strong>环境变量</strong> </p>
<p>所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</p>
</li>
<li><p><strong>shell变量</strong> </p>
<p>shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</p>
</li>
</ul>
</li>
<li><p>按能否重新定义，可分为</p>
<ul>
<li><p><strong>可变变量</strong></p>
<p>一般定义的为可变变量</p>
</li>
<li><p><strong>只读变量</strong></p>
<p>用readonly命令可将变量定义为只读变量。如下shell脚本执行会报错。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">myUrl=&quot;https://www.google.com&quot;</span><br><span class="line">readonly myUrl</span><br><span class="line">myUrl=&quot;https://www.baidu.com&quot;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="变量删除"><a href="#变量删除" class="headerlink" title="变量删除"></a>变量删除</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset variable_name</span><br></pre></td></tr></table></figure>

<p><strong>注意：unset 命令不能删除只读变量。</strong></p>
<h1 id="Shell-数据类型"><a href="#Shell-数据类型" class="headerlink" title="Shell 数据类型"></a>Shell 数据类型</h1><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>字符串定义可以用单引号，也可以用双引号，也可以不用引号。</p>
<h3 id="字符串变量定义"><a href="#字符串变量定义" class="headerlink" title="字符串变量定义"></a>字符串变量定义</h3><h4 id="单引号法"><a href="#单引号法" class="headerlink" title="单引号法"></a>单引号法</h4><p>最简单的例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str=&#x27;this is a string&#x27;</span><br></pre></td></tr></table></figure>

<p>下面在例子中观察单引号的用法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">str=&#x27;string&#x27;</span><br><span class="line">str1=&#x27;This is a $str.&#x27;</span><br><span class="line">str2=&#x27;This is a &#x27;$str&#x27;.&#x27;</span><br><span class="line"><span class="meta">#</span><span class="bash"> str3=<span class="string">&#x27;This is a \&#x27;</span><span class="variable">$str</span>\<span class="string">&#x27;.&#x27;</span>	<span class="comment"># 这句会报错</span></span></span><br><span class="line">str4=&#x27;This is a &quot;$str&quot;.&#x27;</span><br><span class="line">str5=&#x27;This is a \&quot;$str\&quot;.&#x27;</span><br><span class="line">echo &quot;1: $str1&quot;</span><br><span class="line">echo &quot;2: $str2&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;3: <span class="variable">$str3</span>&quot;</span></span></span><br><span class="line">echo &quot;4: $str4&quot;</span><br><span class="line">echo &quot;5: $str5&quot;</span><br></pre></td></tr></table></figure>

<p>  输出</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1: This is a $str.</span><br><span class="line">2: This is a string.</span><br><span class="line">4: This is a &quot;$str&quot;.</span><br><span class="line">5: This is a \&quot;$str\&quot;.</span><br></pre></td></tr></table></figure>

<p>  下面会报错</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">str=&#x27;string&#x27;</span><br><span class="line">str3=&#x27;This is a \&#x27;$str\&#x27;&#x27;</span><br><span class="line">echo $str3</span><br></pre></td></tr></table></figure>

<p>单引号的一些特点：</p>
<ul>
<li>单引号中要输出变量的话，不能直接放变量（$name），要用单引号括起来，否则会被当成字符输出</li>
<li>单引号中不能出现单独一个的单引号（对单引号使用转义符后也不行），<strong>但可成对出现</strong>，作为字符串拼接使用。<strong>即单引号中不能输出单引号！</strong></li>
<li>单引号中的双引号就是一个普通的字符，不需要转义直接输出</li>
</ul>
<h4 id="双引号法"><a href="#双引号法" class="headerlink" title="双引号法"></a>双引号法</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">str=&#x27;string&#x27;</span><br><span class="line">str1=&quot;This is a $str.&quot;</span><br><span class="line">str2=&quot;This is a &quot;$str&quot;.&quot;</span><br><span class="line">str3=&quot;This is a \&quot;$str\&quot;.&quot;</span><br><span class="line">str4=&quot;This is a &#x27;$str&#x27;.&quot;</span><br><span class="line">str5=&quot;This is a \&#x27;$str\&#x27;.&quot;</span><br><span class="line">echo &quot;1: $str1&quot;</span><br><span class="line">echo &quot;2: $str2&quot;</span><br><span class="line">echo &quot;3: $str3&quot;</span><br><span class="line">echo &quot;4: $str4&quot;</span><br><span class="line">echo &quot;5: $str5&quot;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1: This is a string.</span><br><span class="line">2: This is a string.</span><br><span class="line">3: This is a &quot;string&quot;.</span><br><span class="line">4: This is a &#39;string&#39;.</span><br><span class="line">5: This is a \&#39;string\&#39;&#39;.</span><br></pre></td></tr></table></figure>

<ul>
<li>双引号的一些特点<ul>
<li>双引号里面可以放变量，变量可加双引号，也可不加双引号，效果都一样</li>
<li>双引号中输出双引号需要用转义符</li>
<li>双引号中的单引号只是个普通的字符，不需要转义直接输出</li>
</ul>
</li>
</ul>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol>
<li>字符串定义时，不管是单引号还是双引号，在有变量时，可一律加引号（单引号里面就加单引号，双引号里面就加双引号）</li>
<li>单引号里面不能输出单独的一个单引号，双引号里面输出双引号时要用转义符</li>
<li>单引号里面的双引号以及双引号里面的单引号都视为普通字符</li>
<li>平时用双引号即可，功能比单引号多</li>
</ol>
<h3 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h3><p>见<a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89">字符串变量定义</a>一节。</p>
<h3 id="字符串长度获取"><a href="#字符串长度获取" class="headerlink" title="字符串长度获取"></a>字符串长度获取</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;abcd&quot;</span><br><span class="line">echo $&#123;#string&#125; # 输出为4</span><br></pre></td></tr></table></figure>

<h3 id="子字符串获取"><a href="#子字符串获取" class="headerlink" title="子字符串获取"></a>子字符串获取</h3><p>创建文件test.sh：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash</span></span><br><span class="line">string=&quot;abcdefg&quot;</span><br><span class="line">echo $&#123;string:1:4&#125; # 输出bcde</span><br></pre></td></tr></table></figure>

<p><strong>注意：解释器的选择要正确，否则会出现Bad substitution的错误。</strong></p>
<p>这里用发现<code>bash test.sh</code>或<code>/bin/bash test.sh</code>能成功运行，<code>sh test.sh</code>或<code>/bin/sh test.sh</code>都会报错。另外，<code>bash --posix test.sh</code> 或<code>/bin/bash --posix test.sh</code>却能成功运行。</p>
<p>因此我推测：直接用命令和指定解释器路径来执行脚本是等价的，但<code>sh</code>与<code>bash --posix</code>不等价。</p>
<h3 id="查找字符串"><a href="#查找字符串" class="headerlink" title="查找字符串"></a>查找字符串</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;runoob is a great site&quot;</span><br><span class="line">echo `expr index &quot;$string&quot; io`  # 输出 4</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong> 以上脚本中 <strong>`</strong> 是反引号，而不是单引号 **’**，不要看错了哦。</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</p>
<p>类似于 C 语言，数组元素的下标由 0 开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。</p>
<h3 id="数组变量定义"><a href="#数组变量定义" class="headerlink" title="数组变量定义"></a>数组变量定义</h3><p>在 Shell 中，用括号来表示数组，数组元素用”空格”符号分割开。例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array_name=(value0 value1 value2 value3)</span><br></pre></td></tr></table></figure>

<p>或单独定义数组的各个分量：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array_name[0]=value0</span><br><span class="line">array_name[1]=value1</span><br><span class="line">array_name[n]=valuen</span><br></pre></td></tr></table></figure>

<p><strong>可以不使用连续的下标</strong>，而且下标的范围没有限制。</p>
<h3 id="数组读取"><a href="#数组读取" class="headerlink" title="数组读取"></a>数组读取</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valuen=$&#123;array_name[n]&#125;</span><br></pre></td></tr></table></figure>

<p>使用 @ 符号可以获取数组中的所有元素，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;array_name[@]&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组长度获取"><a href="#数组长度获取" class="headerlink" title="数组长度获取"></a>数组长度获取</h3><p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 取得数组元素的个数</span></span><br><span class="line">length=$&#123;#array_name[@]&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line">length=$&#123;#array_name[*]&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 取得数组单个元素的长度</span></span><br><span class="line">lengthn=$&#123;#array_name[n]&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Shell-参数传递"><a href="#Shell-参数传递" class="headerlink" title="Shell 参数传递"></a>Shell 参数传递</h1><p>我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：<code>$n</code>。</p>
<p>n 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推……0默认为执行的脚本文件名（包含文件路径）。</p>
<p>例：新建文件test.sh：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo &quot;执行的文件名：$0&quot;</span><br><span class="line">echo &quot;第一个参数为：$1&quot;</span><br><span class="line">echo &quot;第二个参数为：$2&quot;</span><br><span class="line">echo &quot;第三个参数为：$3&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh test.sh abc 123 5f5</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">执行的文件名：test.sh</span><br><span class="line">第一个参数为：abc</span><br><span class="line">第二个参数为：123</span><br><span class="line">第三个参数为：5f5</span><br></pre></td></tr></table></figure>

<p>另外，还有几个特殊字符用来处理参数：</p>
<table>
<thead>
<tr>
<th align="left">参数处理</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>$#</code></td>
<td align="left">传递到脚本的参数个数</td>
</tr>
<tr>
<td align="left"><code>$$</code></td>
<td align="left">脚本运行的当前进程ID号</td>
</tr>
<tr>
<td align="left"><code>$!</code></td>
<td align="left">后台运行的最后一个进程的ID号</td>
</tr>
<tr>
<td align="left"><code>$*</code></td>
<td align="left">以一个单字符串的形式显示所有向脚本传递的参数。 <br />如果是<code>$*</code>用<code>&quot;</code>括起来的情况，则会以<code>$1 $2 … $n</code>的形式输出所有参数。</td>
</tr>
<tr>
<td align="left"><code>$@</code></td>
<td align="left">以一个字符串组的形式显示所有向脚本传递的参数。不加引号则与<code>$*</code>相同。 <br />如果是<code>$@</code>用<code>&quot;</code>括起来的情况、则会以<code>$1</code> <code>$2</code> <code>…</code> <code>$n</code>的形式输出所有参数。用for循环可以看出二者的区别。</td>
</tr>
<tr>
<td align="left"><code>$-</code></td>
<td align="left">显示Shell使用的当前选项，与<a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-set.html">set命令</a>功能相同。</td>
</tr>
<tr>
<td align="left"><code>$?</code></td>
<td align="left">显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td>
</tr>
</tbody></table>
<p>演示<code>$*</code>与<code>$@</code>的区别：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo &quot;-- \$* 演示 ---&quot;</span><br><span class="line">for i in &quot;$*&quot;; do</span><br><span class="line">    echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;-- \$@ 演示 ---&quot;</span><br><span class="line">for i in &quot;$@&quot;; do</span><br><span class="line">    echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh test.sh 1 2 3</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- $* 演示 ---</span><br><span class="line">1 2 3</span><br><span class="line">-- $@ 演示 ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h1 id="Shell-运算符"><a href="#Shell-运算符" class="headerlink" title="Shell 运算符"></a>Shell 运算符</h1><h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">val=`expr 2 + 2`</span><br><span class="line">echo &quot;两数之和为：$val&quot;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<ul>
<li>表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</li>
<li>完整的表达式要被 <strong><code> </code></strong> 包含，注意这个字符不是常用的单引号，在 Esc 键下边。</li>
</ul>
<table>
<thead>
<tr>
<th>算数运算符</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td><code>+</code></td>
<td>加法</td>
<td><code>expr $a + $b</code></td>
</tr>
<tr>
<td><code>-</code></td>
<td>减法</td>
<td><code>expr $a - $b</code></td>
</tr>
<tr>
<td><code>\*</code></td>
<td>乘法</td>
<td><code>expr $a \* $b</code></td>
</tr>
<tr>
<td><code>/</code></td>
<td>除法</td>
<td><code>expr $b / $a</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>取余</td>
<td><code>expr $b % $a</code></td>
</tr>
<tr>
<td><code>=</code></td>
<td>赋值</td>
<td><code>a=$b</code> 将把变量 b 的值赋给 a。</td>
</tr>
<tr>
<td><code>==</code></td>
<td>相等。用于比较两个数字，相同则返回 true。</td>
<td><code>[ $a == $b ]</code></td>
</tr>
<tr>
<td><code>!=</code></td>
<td>不相等。用于比较两个数字，不相同则返回 true。</td>
<td><code>[ $a != $b ]</code></td>
</tr>
</tbody></table>
<p><strong>注意：</strong></p>
<ul>
<li>条件表达式要放在方括号之间，并且要有空格，例如: <code>[$a==$b]</code> 是错误的，必须写成 <code>[ $a == $b ]</code>。</li>
<li>乘号<code>*</code>前边必须加反斜杠<code>\</code>才能实现乘法运算。</li>
</ul>
<h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><table>
<thead>
<tr>
<th align="left">运算符</th>
<th>助记</th>
<th align="left">说明</th>
<th align="left">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>-eq</code></td>
<td>equal</td>
<td align="left">检测两个数是否相等，相等返回 true。</td>
<td align="left"><code>[ $a -eq $b ]</code></td>
</tr>
<tr>
<td align="left"><code>-ne</code></td>
<td>unequal</td>
<td align="left">检测两个数是否不相等，不相等返回 true。</td>
<td align="left"><code>[ $a -ne $b ]</code></td>
</tr>
<tr>
<td align="left"><code>-gt</code></td>
<td>greater</td>
<td align="left">检测左边的数是否大于右边的，如果是，则返回 true。</td>
<td align="left"><code>[ $a -gt $b ]</code></td>
</tr>
<tr>
<td align="left"><code>-lt</code></td>
<td>less</td>
<td align="left">检测左边的数是否小于右边的，如果是，则返回 true。</td>
<td align="left"><code>[ $a -lt $b ]</code></td>
</tr>
<tr>
<td align="left"><code>-ge</code></td>
<td>greater equal</td>
<td align="left">检测左边的数是否大于等于右边的，如果是，则返回 true。</td>
<td align="left"><code>[ $a -ge $b ]</code></td>
</tr>
<tr>
<td align="left"><code>-le</code></td>
<td>less equal</td>
<td align="left">检测左边的数是否小于等于右边的，如果是，则返回 true。</td>
<td align="left"><code>[ $a -le $b ]</code></td>
</tr>
</tbody></table>
<h2 id="布尔运算符"><a href="#布尔运算符" class="headerlink" title="布尔运算符"></a>布尔运算符</h2><table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">说明</th>
<th align="left">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>!</code></td>
<td align="left">非运算，表达式为 true 则返回 false，否则返回 true。</td>
<td align="left"><code>[ ! false ]</code></td>
</tr>
<tr>
<td align="left"><code>-o</code></td>
<td align="left">或运算，有一个表达式为 true 则返回 true。</td>
<td align="left"><code>[ $a -lt 20 -o $b -gt 100 ]</code></td>
</tr>
<tr>
<td align="left"><code>-a</code></td>
<td align="left">与运算，两个表达式都为 true 才返回 true。</td>
<td align="left"><code>[ $a -lt 20 -a $b -gt 100 ]</code></td>
</tr>
</tbody></table>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">说明</th>
<th align="left">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;&amp;</td>
<td align="left">逻辑的 AND</td>
<td align="left"><code>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</code> 返回 false</td>
</tr>
<tr>
<td align="left">||</td>
<td align="left">逻辑的 OR</td>
<td align="left">`[[ $a -lt 100</td>
</tr>
</tbody></table>
<h2 id="字符串运算符"><a href="#字符串运算符" class="headerlink" title="字符串运算符"></a>字符串运算符</h2><table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">说明</th>
<th align="left">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>=</code></td>
<td align="left">检测两个字符串是否相等，相等返回 true。</td>
<td align="left"><code>[ $a = $b ]</code></td>
</tr>
<tr>
<td align="left"><code>!=</code></td>
<td align="left">检测两个字符串是否相等，不相等返回 true。</td>
<td align="left"><code>[ $a != $b ]</code></td>
</tr>
<tr>
<td align="left"><code>-z</code></td>
<td align="left">检测字符串长度是否为0，为0返回 true。</td>
<td align="left"><code>[ -z $a ]</code></td>
</tr>
<tr>
<td align="left"><code>-n</code></td>
<td align="left">检测字符串长度是否不为 0，不为 0 返回 true。</td>
<td align="left"><code>[ -n &quot;$a&quot; ]</code></td>
</tr>
<tr>
<td align="left"><code>$</code></td>
<td align="left">检测字符串是否为空，不为空返回 true。</td>
<td align="left"><code>[ $a ]</code></td>
</tr>
</tbody></table>
<h2 id="文件测试运算符"><a href="#文件测试运算符" class="headerlink" title="文件测试运算符"></a>文件测试运算符</h2><table>
<thead>
<tr>
<th align="left">操作符</th>
<th>助记</th>
<th align="left">说明</th>
<th align="left">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>-b</code></td>
<td>block</td>
<td align="left">检测文件是否是块设备文件，如果是，则返回 true。</td>
<td align="left"><code>[ -b $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-c</code></td>
<td>char</td>
<td align="left">检测文件是否是字符设备文件，如果是，则返回 true。</td>
<td align="left"><code>[ -c $file ]</code></td>
</tr>
<tr>
<td align="left"><code>-d</code></td>
<td>directory</td>
<td align="left">检测文件是否是目录，如果是，则返回 true。</td>
<td align="left"><code>[ -d $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-f</code></td>
<td>file</td>
<td align="left">检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td>
<td align="left"><code>[ -f $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-g</code></td>
<td>S<strong>G</strong>ID</td>
<td align="left">检测文件是否设置了 SGID 位，如果是，则返回 true。</td>
<td align="left"><code>[ -g $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-k</code></td>
<td>Stic<strong>k</strong>y</td>
<td align="left">检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。</td>
<td align="left"><code>[ -k $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-p</code></td>
<td>pipe</td>
<td align="left">检测文件是否是有名管道，如果是，则返回 true。</td>
<td align="left"><code>[ -p $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-u</code></td>
<td>S<strong>U</strong>ID</td>
<td align="left">检测文件是否设置了 SUID 位，如果是，则返回 true。</td>
<td align="left"><code>[ -u $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-r</code></td>
<td>read</td>
<td align="left">检测文件是否可读，如果是，则返回 true。</td>
<td align="left"><code>[ -r $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-w</code></td>
<td>write</td>
<td align="left">检测文件是否可写，如果是，则返回 true。</td>
<td align="left"><code>[ -w $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-x</code></td>
<td>execute</td>
<td align="left">检测文件是否可执行，如果是，则返回 true。</td>
<td align="left"><code>[ -x $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-s</code></td>
<td>(sky)</td>
<td align="left">检测文件是否为空（文件大小是否大于0），不为空返回 true。</td>
<td align="left"><code>[ -s $file ] </code></td>
</tr>
<tr>
<td align="left"><code>-e</code></td>
<td>exist</td>
<td align="left">检测文件（包括目录）是否存在，如果是，则返回 true。</td>
<td align="left"><code>[ -e $file ] </code></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td><code>-S</code></td>
<td>判断某文件是否 socket。</td>
<td><code>[ -S $file ]</code></td>
</tr>
<tr>
<td><code>-L</code></td>
<td>检测文件是否存在并且是一个符号链接。</td>
<td><code>[ -L $file]</code></td>
</tr>
</tbody></table>
<h1 id="Shell-流程控制"><a href="#Shell-流程控制" class="headerlink" title="Shell 流程控制"></a>Shell 流程控制</h1><h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h3 id="if-条件判断"><a href="#if-条件判断" class="headerlink" title="if 条件判断"></a>if 条件判断</h3><p>格式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if condition1</span><br><span class="line">then</span><br><span class="line">	command1 </span><br><span class="line">elif condition2</span><br><span class="line">then</span><br><span class="line">	command2</span><br><span class="line">else</span><br><span class="line">	command3	# 注意若写了else，则这里不能为空</span><br><span class="line">fi	# fi就是if反过来写，也可以理解为finish</span><br></pre></td></tr></table></figure>

<p>或写成一行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if condition; then command; fi</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a 等于 b&quot;</span><br><span class="line">elif [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a 大于 b&quot;</span><br><span class="line">elif [ $a -lt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a 小于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;没有符合的条件&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p><strong>注意：这里用bash，用sh会报错。</strong></p>
<h3 id="case-条件判断"><a href="#case-条件判断" class="headerlink" title="case 条件判断"></a>case 条件判断</h3><p>语法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">case 值 in</span><br><span class="line">模式1)</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">模式2）</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">esac	# 就是case反过来写</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;输入 1 到 4 之间的数字:&#x27;</span><br><span class="line">echo &#x27;你输入的数字为:&#x27;</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">    1)  echo &#x27;你选择了 1&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    2)  echo &#x27;你选择了 2&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    3)  echo &#x27;你选择了 3&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    4)  echo &#x27;你选择了 4&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    *)  echo &#x27;你没有输入 1 到 4 之间的数字&#x27;</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN</span><br><span class="line">do</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>或写成一行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN; do command1; command...; done;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">    echo &quot;The value is: $loop&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for str in &#x27;This is a string&#x27;</span><br><span class="line">do</span><br><span class="line">    echo $str</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="while-循环"><a href="#while-循环" class="headerlink" title="while 循环"></a>while 循环</h3><p>格式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">int=1</span><br><span class="line">while(( $int&lt;=5 ))</span><br><span class="line">do</span><br><span class="line">    echo $int</span><br><span class="line">    let &quot;int++&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="无限循环"><a href="#无限循环" class="headerlink" title="无限循环"></a>无限循环</h3><p>有三种写法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while true</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for (( ; ; ))</span><br></pre></td></tr></table></figure>

<h3 id="until-循环"><a href="#until-循环" class="headerlink" title="until 循环"></a>until 循环</h3><p>语法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">until condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=0</span><br><span class="line"></span><br><span class="line">until [ ! $a -lt 10 ]</span><br><span class="line">do</span><br><span class="line">   echo $a</span><br><span class="line">   a=`expr $a + 1`</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="break-命令"><a href="#break-命令" class="headerlink" title="break 命令"></a>break 命令</h3><p>例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    echo -n &quot;输入 1 到 5 之间的数字:&quot;</span><br><span class="line">    read aNum</span><br><span class="line">    case $aNum in</span><br><span class="line">        1|2|3|4|5) echo &quot;你输入的数字为 $aNum!&quot;</span><br><span class="line">        ;;</span><br><span class="line">        *) echo &quot;你输入的数字不是 1 到 5 之间的! 游戏结束&quot;</span><br><span class="line">            break</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="continue-命令"><a href="#continue-命令" class="headerlink" title="continue 命令"></a>continue 命令</h3><p>例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    echo -n &quot;输入 1 到 5 之间的数字: &quot;</span><br><span class="line">    read aNum</span><br><span class="line">    case $aNum in</span><br><span class="line">        1|2|3|4|5) echo &quot;你输入的数字为 $aNum!&quot;</span><br><span class="line">        ;;</span><br><span class="line">        *) echo &quot;你输入的数字不是 1 到 5 之间的!&quot;</span><br><span class="line">            continue</span><br><span class="line">            echo &quot;游戏结束&quot;	# 该语句永远不会被执行</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line"></span><br><span class="line">site=&quot;runoob&quot;</span><br><span class="line"></span><br><span class="line">case &quot;$site&quot; in</span><br><span class="line">   &quot;runoob&quot;) echo &quot;菜鸟教程&quot;</span><br><span class="line">   ;;</span><br><span class="line">   &quot;google&quot;) echo &quot;Google 搜索&quot;</span><br><span class="line">   ;;</span><br><span class="line">   &quot;taobao&quot;) echo &quot;淘宝网&quot;</span><br><span class="line">   ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<h1 id="Shell-函数"><a href="#Shell-函数" class="headerlink" title="Shell 函数"></a>Shell 函数</h1><p>语法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ function ] funname [()]	# []表示可写可不写，但这里不能二者都不写</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    action;</span><br><span class="line"></span><br><span class="line">    [ return int ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ul>
<li>可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</li>
<li>return语句如果不加，将以最后一条命令的运行结果，作为返回值。 return后跟数值n（0~255）。</li>
</ul>
<p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">demoFun()&#123;</span><br><span class="line">    echo &quot;这是我的第一个 shell 函数!&quot;</span><br><span class="line">&#125;</span><br><span class="line">echo &quot;-----函数开始执行-----&quot;</span><br><span class="line">demoFun</span><br><span class="line">echo &quot;-----函数执行完毕-----&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">funWithReturn()&#123;</span><br><span class="line">    echo &quot;这个函数会对输入的两个数字进行相加运算...&quot;</span><br><span class="line">    echo &quot;输入第一个数字: &quot;</span><br><span class="line">    read aNum</span><br><span class="line">    echo &quot;输入第二个数字: &quot;</span><br><span class="line">    read anotherNum</span><br><span class="line">    echo &quot;两个数字分别为 $aNum 和 $anotherNum !&quot;</span><br><span class="line">    return $(($aNum+$anotherNum))</span><br><span class="line">&#125;</span><br><span class="line">funWithReturn</span><br><span class="line">echo &quot;输入的两个数字之和为 $? !&quot;</span><br></pre></td></tr></table></figure>

<p>带参数的函数示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> author:菜鸟教程</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> url:www.runoob.com</span></span><br><span class="line"></span><br><span class="line">funWithParam()&#123;</span><br><span class="line">    echo &quot;第一个参数为 $1 !&quot;</span><br><span class="line">    echo &quot;第二个参数为 $2 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $10 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $&#123;10&#125; !&quot;</span><br><span class="line">    echo &quot;第十一个参数为 $&#123;11&#125; !&quot;</span><br><span class="line">    echo &quot;参数总数有 $# 个!&quot;</span><br><span class="line">    echo &quot;作为一个字符串输出所有参数 $* !&quot;</span><br><span class="line">&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br></pre></td></tr></table></figure>

<p><strong>注意：<code>$10</code> 不能获取第十个参数，获取第十个参数需要<code>$&#123;10&#125;</code>。当n&gt;=10时，需要使用<code>$&#123;n&#125;</code>来获取参数。</strong></p>
<h1 id="Shell-输入-输出重定向"><a href="#Shell-输入-输出重定向" class="headerlink" title="Shell 输入/输出重定向"></a>Shell 输入/输出重定向</h1><p>大多数 UNIX 系统命令从你的终端接受输入并将所产生的输出发送回到您的终端。一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。</p>
<p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p>
<ul>
<li>标准输入文件(stdin)：<strong>stdin的文件描述符为0</strong>，Unix程序默认从stdin读取数据。</li>
<li>标准输出文件(stdout)：<strong>stdout 的文件描述符为1</strong>，Unix程序默认向stdout输出数据。</li>
<li>标准错误文件(stderr)：<strong>stderr的文件描述符为2</strong>，Unix程序会向stderr流中写入错误信息。</li>
</ul>
<p>默认情况下，command &gt; file 将 stdout 重定向到 file，command &lt; file 将stdin 重定向到 file。</p>
<p>如果希望 stderr 重定向到 file，可以这样写：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">command</span> 2&gt;file</span></span><br></pre></td></tr></table></figure>

<p>如果希望 stderr 追加到 file 文件末尾，可以这样写：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">command</span> 2&gt;&gt;file</span></span><br></pre></td></tr></table></figure>

<p>重定向命令列表如下：</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>command &gt; file</code></td>
<td align="left">将输出重定向到 file。</td>
</tr>
<tr>
<td align="left"><code>command &lt; file</code></td>
<td align="left">将输入重定向到 file。</td>
</tr>
<tr>
<td align="left"><code>command &gt;&gt; file</code></td>
<td align="left">将输出以追加的方式重定向到 file。</td>
</tr>
<tr>
<td align="left"><code>n &gt; file</code></td>
<td align="left">将文件描述符为 n 的文件重定向到 file。</td>
</tr>
<tr>
<td align="left"><code>n &gt;&gt; file</code></td>
<td align="left">将文件描述符为 n 的文件以追加的方式重定向到 file。</td>
</tr>
<tr>
<td align="left"><code>n &gt;&amp; m</code></td>
<td align="left">将输出文件 m 和 n 合并。</td>
</tr>
<tr>
<td align="left"><code>n &lt;&amp; m</code></td>
<td align="left">将输入文件 m 和 n 合并。</td>
</tr>
<tr>
<td align="left"><code>&lt;&lt; tag</code></td>
<td align="left">将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td>
</tr>
</tbody></table>
<p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 统计 file 文件的行数</span></span><br><span class="line">wc -l file		# 输出 2 file</span><br><span class="line">wc -l &lt; file	# 输出 2</span><br></pre></td></tr></table></figure>

<p>下面这个例子，执行command1，从文件infile读取内容，然后将输出写入到outfile中：（<strong>说明执行顺序是从左到右的</strong>）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 &lt; infile &gt; outfile</span><br></pre></td></tr></table></figure>

<h2 id="Here-Document"><a href="#Here-Document" class="headerlink" title="Here Document"></a>Here Document</h2><p>Here Document 是 Shell 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 Shell 脚本或程序。</p>
<p>它的基本的形式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">command &lt;&lt; delimiter</span><br><span class="line">    document</span><br><span class="line">delimiter</span><br></pre></td></tr></table></figure>

<p>它的作用是将两个 delimiter 之间的内容(document) 作为输入传递给 command。delimiter可以替换成其他字符。</p>
<p><strong>注意：</strong></p>
<ul>
<li><strong>结尾的delimiter 一定要顶格写，前面不能有任何字符，后面也不能有任何字符，包括空格和 tab 缩进。</strong></li>
<li><strong>开始的delimiter前后的空格会被忽略掉。</strong></li>
</ul>
<p>例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 计算行数</span></span><br><span class="line">wc -l &lt;&lt; EOF</span><br><span class="line">    欢迎来到</span><br><span class="line">    菜鸟教程</span><br><span class="line">    www.runoob.com</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打印内容</span></span><br><span class="line">cat &lt;&lt; EOF</span><br><span class="line">欢迎来到</span><br><span class="line">菜鸟教程</span><br><span class="line">www.runoob.com</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<h2 id="dev-null-文件"><a href="#dev-null-文件" class="headerlink" title="/dev/null 文件"></a>/dev/null 文件</h2><p>如果希望执行某个命令，但又不希望在屏幕上显示输出结果，那么可以将输出重定向到 <code>/dev/null</code>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command &gt; /dev/null</span><br></pre></td></tr></table></figure>

<p><code>/dev/null</code> 是一个特殊的文件，写入到它的内容都会被丢弃；如果尝试从该文件读取内容，那么什么也读不到。但是 <code>/dev/null</code> 文件非常有用，将命令的输出重定向到它，会起到”禁止输出”的效果。</p>
<p>如果希望屏蔽 stdout 和 stderr，可以这样写：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command &gt; /dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<ul>
<li><p><code>0</code> 是标准输入（STDIN），<code>1</code> 是标准输出（STDOUT），<code>2</code> 是标准错误输出（STDERR）。</p>
</li>
<li><p>这里的 <code>2</code> 和 <code>&gt;</code> 之间不可以有空格，<code>2&gt;</code> 是一体的时候才表示错误输出。</p>
</li>
</ul>
<h1 id="Shell-文件包含"><a href="#Shell-文件包含" class="headerlink" title="Shell 文件包含"></a>Shell 文件包含</h1><p>和其他语言一样，Shell 也可以包含外部脚本。这样可以很方便的封装一些公用的代码作为一个独立的文件。</p>
<p>Shell 文件包含的语法格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">. filename   # 注意点号(.)和文件名中间有一空格</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或</span></span><br><span class="line">source filename</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<p>创建两个 shell 脚本文件。</p>
<p>test1.sh 代码如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">url=&quot;http://www.runoob.com&quot;</span><br></pre></td></tr></table></figure>

<p>test2.sh 代码如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">使用 . 号来引用test1.sh 文件</span></span><br><span class="line">. ./test1.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者使用以下包含文件代码</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">source</span> ./test1.sh</span></span><br><span class="line"></span><br><span class="line">echo &quot;菜鸟教程官网地址：$url&quot;</span><br></pre></td></tr></table></figure>

<p>接下来，我们为 test2.sh 添加可执行权限并执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x test2.sh </span><br><span class="line">./test2.sh </span><br></pre></td></tr></table></figure>

<p>注：被包含的文件 test1.sh 不需要可执行权限。</p>
<h1 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h1><h2 id="source-、sh和-的区别"><a href="#source-、sh和-的区别" class="headerlink" title="source(.)、sh和./的区别"></a>source(.)、sh和./的区别</h2><blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyangkobe/article/details/6595143">https://blog.csdn.net/wangyangkobe/article/details/6595143</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/pcat/p/5467188.html">https://www.cnblogs.com/pcat/p/5467188.html</a></p>
</blockquote>
<p>source命令：<br>source命令也称为“<a target="_blank" rel="noopener" href="http://www.51testing.com/?uid-225738-action-viewspace-itemid-206878">点命令</a>”，也就是一个点符号（.）,是bash的内部命令。<br>功能：使<a target="_blank" rel="noopener" href="http://www.51testing.com/?uid-225738-action-viewspace-itemid-206878">Shell</a>读入指定的Shell程序文件并依次执行文件中的所有语句<br>source命令通常用于重新执行刚修改的初始化文件，使之立即生效，而不必注销并重新登录。<br>用法：<br>source filename 或 . filename<br>source命令(从 C Shell 而来)是bash shell的内置命令;点命令(.)，就是个点符号(从Bourne Shell而来)是source的另一名称。</p>
<p>source filename 与 sh filename 及./filename执行脚本的区别在那里呢？<br>1.当shell脚本具有可执行权限时，用sh filename与./filename执行脚本是没有区别得。./filename是因为当前目录没有在PATH中，所有”.”是用来表示当前目录的。<br>2.sh filename 重新建立一个子shell，在子shell中执行脚本里面的语句，该子shell继承父shell的环境变量，但子shell新建的、改变的变量不会被带回父shell，除非使用export。<br>3.source filename：这个命令其实只是简单地读取脚本里面的语句依次在当前shell里面执行，没有建立新的子shell。那么脚本里面所有新建、改变变量的语句都会保存在当前shell里面。</p>
<p><strong>1、source</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source a.sh</span><br></pre></td></tr></table></figure>

<p>在<strong>当前shell内</strong>去读取、执行a.sh，而a.sh不需要有”<strong>执行权限</strong>“</p>
<p>source命令可以简写为”.”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. a.sh</span><br></pre></td></tr></table></figure>

<p>注意：中间是<strong>有空格</strong>的。</p>
<p><strong>2、sh/bash</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sh a.sh</span><br><span class="line">bash a.sh</span><br></pre></td></tr></table></figure>

<p>都是<strong>打开一个subshell</strong>去读取、执行a.sh，而a.sh不需要有”<strong>执行权限</strong>“</p>
<p>通常在subshell里运行的脚本里设置变量，不会影响到父shell的。</p>
<p><strong>3、./</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;a.sh</span><br><span class="line">#bash: .&#x2F;a.sh: 权限不够</span><br><span class="line">chmod +x a.sh</span><br><span class="line">.&#x2F;a.sh</span><br></pre></td></tr></table></figure>

<p><strong>打开一个subshell</strong>去读取、执行a.sh，但a.sh需要有”<strong>执行权限</strong>“</p>
<p>可以用chmod +x添加执行权限</p>
<p>另外，使用./来执行的文件里有alias语句的话，shell并不会把alias别名扩展成对应的命令，要解决的话，得使用shopt命令来开启alias扩展选项</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shopt -s expand_aliases</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-22T11:53:31.774Z" title="2021/1/22 下午7:53:31">2021-01-22</time>发表</span><span class="level-item"><time dateTime="2021-01-22T11:53:31.776Z" title="2021/1/22 下午7:53:31">2021-01-22</time>更新</span><span class="level-item">13 分钟读完 (大约1965个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/22/1953.html"> </a></h1><div class="content">/*! normalize.css v2.1.3 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 8/9.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 8/9.
 */

audio,
canvas,
video {
    display: inline-block;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address `[hidden]` styling not present in IE 8/9.
 * Hide the `template` element in IE, Safari, and Firefox < 22.
 */

[hidden],
template {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Set default font family to sans-serif.
 * 2. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    font-family: sans-serif; /* 1 */
    -ms-text-size-adjust: 100%; /* 2 */
    -webkit-text-size-adjust: 100%; /* 2 */
}

/**
 * Remove default margin.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Remove the gray background color from active links in IE 10.
 */

a {
    background: transparent;
}

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address variable `h1` font-size and margin within `section` and `article`
 * contexts in Firefox 4+, Safari 5, and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

/**
 * Address styling not present in IE 8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Correct font family set oddly in Safari 5 and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre-wrap;
}

/**
 * Set consistent quote types.
 */

q {
    quotes: "\201C" "\201D" "\2018" "\2019";
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * Remove border when inside `a` element in IE 8/9.
 */

img {
    border: 0;
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 8/9 and Safari 5.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct `color` not being inherited in IE 8/9.
 * 2. Remove padding so people aren't caught out if they zero out fieldsets.
 */

legend {
    border: 0; /* 1 */
    padding: 0; /* 2 */
}

/**
 * 1. Correct font family not being inherited in all browsers.
 * 2. Correct font size not being inherited in all browsers.
 * 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome.
 */

button,
input,
select,
textarea {
    font-family: inherit; /* 1 */
    font-size: 100%; /* 2 */
    margin: 0; /* 3 */
}

/**
 * Address Firefox 4+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to `content-box` in IE 8/9/10.
 * 2. Remove excess padding in IE 8/9/10.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 4+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

.go-top {
position: fixed;
bottom: 2em;
right: 2em;
text-decoration: none;
background-color: #E0E0E0;
font-size: 12px;
padding: 1em;
display: inline;
}

/* Github css */

html,body{        margin: auto;
    padding-right: 1em;
    padding-left: 1em;
    max-width: 44em; color:black;}*:not('#mkdbuttons'){margin:0;padding:0}body{font:13.34px helvetica,arial,freesans,clean,sans-serif;-webkit-font-smoothing:subpixel-antialiased;line-height:1.4;padding:3px;background:#fff;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}p{margin:1em 0}a{color:#4183c4;text-decoration:none}body{background-color:#fff;padding:30px;margin:15px;font-size:14px;line-height:1.6}body>*:first-child{margin-top:0!important}body>*:last-child{margin-bottom:0!important}@media screen{body{box-shadow:0 0 0 1px #cacaca,0 0 0 4px #eee}}h1,h2,h3,h4,h5,h6{margin:20px 0 10px;padding:0;font-weight:bold;-webkit-font-smoothing:subpixel-antialiased;cursor:text}h1{font-size:28px;color:#000}h2{font-size:24px;border-bottom:1px solid #ccc;color:#000}h3{font-size:18px;color:#333}h4{font-size:16px;color:#333}h5{font-size:14px;color:#333}h6{color:#777;font-size:14px}p,blockquote,table,pre{margin:15px 0}ul{padding-left:30px}ol{padding-left:30px}ol li ul:first-of-type{margin-top:0}hr{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;border:0 none;color:#ccc;height:4px;padding:0}body>h2:first-child{margin-top:0;padding-top:0}body>h1:first-child{margin-top:0;padding-top:0}body>h1:first-child+h2{margin-top:0;padding-top:0}body>h3:first-child,body>h4:first-child,body>h5:first-child,body>h6:first-child{margin-top:0;padding-top:0}a:first-child h1,a:first-child h2,a:first-child h3,a:first-child h4,a:first-child h5,a:first-child h6{margin-top:0;padding-top:0}h1+p,h2+p,h3+p,h4+p,h5+p,h6+p,ul li>:first-child,ol li>:first-child{margin-top:0}dl{padding:0}dl dt{font-size:14px;font-weight:bold;font-style:italic;padding:0;margin:15px 0 5px}dl dt:first-child{padding:0}dl dt>:first-child{margin-top:0}dl dt>:last-child{margin-bottom:0}dl dd{margin:0 0 15px;padding:0 15px}dl dd>:first-child{margin-top:0}dl dd>:last-child{margin-bottom:0}blockquote{border-left:4px solid #DDD;padding:0 15px;color:#777}blockquote>:first-child{margin-top:0}blockquote>:last-child{margin-bottom:0}table{border-collapse:collapse;border-spacing:0;font-size:100%;font:inherit}table th{font-weight:bold;border:1px solid #ccc;padding:6px 13px}table td{border:1px solid #ccc;padding:6px 13px}table tr{border-top:1px solid #ccc;background-color:#fff}table tr:nth-child(2n){background-color:#f8f8f8}img{max-width:100%}code,tt{margin:0 2px;padding:0 5px;white-space:nowrap;border:1px solid #eaeaea;background-color:#f8f8f8;border-radius:3px;font-family:Consolas,'Liberation Mono',Courier,monospace;font-size:12px;color:#333}pre>code{margin:0;padding:0;white-space:pre;border:0;background:transparent}.highlight pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre code,pre tt{background-color:transparent;border:0}.poetry pre{font-family:Georgia,Garamond,serif!important;font-style:italic;font-size:110%!important;line-height:1.6em;display:block;margin-left:1em}.poetry pre code{font-family:Georgia,Garamond,serif!important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;vertical-align:super;position:relative}sub{vertical-align:sub;top:-1px}@media print{body{background:#fff}img,pre,blockquote,table,figure{page-break-inside:avoid}body{background:#fff;border:0}code{background-color:#fff;color:#333!important;padding:0 .2em;border:1px solid #dedede}pre{background:#fff}pre code{background-color:white!important;overflow:visible}}@media screen{body.inverted{color:#eee!important;border-color:#555;box-shadow:none}.inverted body,.inverted hr .inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt,.inverted blockquote{color:#eee!important;border-color:#555;box-shadow:none}.inverted td,.inverted th{background:#333}.inverted h2{border-color:#555}.inverted hr{border-color:#777;border-width:1px!important}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eee}code span::selection{background-color:rgba(0,0,0,0.7)!important;color:#eee!important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}.inverted{background:#0b2531;background:#252a2a}.inverted body{background:#252a2a}.inverted a{color:#acd1d5}}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne,.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .sb,.highlight .sc,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:#008080}.highlight .il{color:#099}.highlight .gc{color:#999;background-color:#eaf2f5}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:#00F}.type-csharp .highlight .nf{color:#000;font-weight:normal}.type-csharp .highlight .nc{color:#2b91af}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#a31515}
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-20T11:57:49.363Z" title="2021/1/20 下午7:57:49">2021-01-20</time>发表</span><span class="level-item"><time dateTime="2021-01-20T15:00:28.327Z" title="2021/1/20 下午11:00:28">2021-01-20</time>更新</span><span class="level-item">8 分钟读完 (大约1157个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/20/1957.html"> </a></h1><div class="content"><!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<title>我的第一个网页！！！</title>
</head>

<body>
    <a id="top">这里是顶部~</a><br/><!--这里好像可以不加br换行，加不加都一样-->
<h1>Hello HTML~</h1>
<p>开始学习HTML。</p>
<p>
    不知道这东东有什么用。不知道能不能学到能自己做网页的程度。
    有什么用自己<a target="_blank" rel="noopener" href="http://www.baidu.com">百度一下</a>？
    href应该是超链接（Hyper Reference）的缩写，好记！但a怎么记？一个超链接？好吧可以。
</p>
<p>这玩意怎么换行呀？不会只能用p标签吧？？？</p>

<h2>接下来加载一张图片试试？</h2>
用什么图片好呢？emmm。头像？
<p></p>
<img loading = "我的头像" src = "E:\HTML_ws\head.png" width = "100" height = "100">
<!--这里的loading属性不知道有什么用-->
<p>src是source的缩写啦。btw，突然发现可以用两个p标签来换行</p>

<h2>真正的换行方法！</h2>
<p>好吧，用br标签才是真正的换行方法。换行~<br/>再换行~<br/>OK~换行标签br只有开始标签，没有结束标签耶。</p>
<p>换行标签其实也要关闭，在br后面加上一斜杠（表示关闭）才是标准的写法。</p>

<h2>HTML属性的用法</h2>
<p>
    开头的百度一下链接就用到了一种属性（href）。双引号是最常用的，不过使用单引号也没有问题。<br/>
    提示: 在某些个别的情况下，比如属性值本身就含有双引号，那么您必须使用单引号，例如：name='John "ShotGun" Nelson'。<bt/>
    参考链接：<a href = "https://www.runoob.com/html/html-attributes.html">菜鸟教程</a>
</p>
<p>
    字号大小怎么调整呢？答案：也是用属性。
    <font size = "6">六号最大，</font><font size = "1">一号最小。</font> <br/>
    <font size = "12">好吧我发现其实更大也可以。</font>

</p>

<h2>HTML水平线</h2>
<p>用hr标签就可以啦~（horizon的缩写？）试试看！</p>
<hr>
<p>啦啦啦这里是一段</p>
<hr>
<p>emmm不是说好了标签都要关闭吗。。怎么hr不用。。有斜杠反而不显示。</p>

<h2>HTML注释</h2>
好吧这个我在最前面已经试过了。<!--啦啦啦这是一个注释-->

<h2>HTML段落注意事项</h2>
<p>
    标签内的回车会被视为一个空格。连续的回车或空行会被视为一个。所以要在段内换行还是得用br标签。
</p>

<p>
    <h2>HTML文本格式化</h2>
    <b>这是粗体</b> <br/>
    <i>这是斜体</i> <br/>
    <code>这是code标签，应该是显示代码的吧。试试，function a_func(int a, int num);</code> <br/>
    这是<sub>下标</sub>，这是<sup>上标</sup>。好吧，我想试试水：H<sub>2</sub>O。
</p>
<p>
    除了用b和i，加粗和斜体也可以用<strong>strong标签</strong>和<em>em（emphasize？）标签。</em>
</p>
<p>
    其他标签，例如：<br/>
    <big>1.用于字体放大的big标签；</big> <br/>
    <pre>
        2.用于presentation？？的pre标签。
        可能是为了方便排版吧。
        用了这个标签后，字体会变成和code标签内的字体一样，回车=换行，空格  有多少   就  显示多少。
    </pre>
    <address>
        3.address标签 <br/>
        这个好鸡肋啊 <br/>
        深圳南山 <br/>
        by Wu
    </address>
        4.abbr标签（abbreviation）<br/>
        <abbr title = "有没有用你说了算~">这个挺有用的哟。</abbr> <br/>
    5.dir标签，<bdo dir="rtl">用于更改文字方向</bdo>。这个真的没卵用。 <br/>
    6.q标签，引用（quote）标签。鲁迅说：<q>这个也没啥用。显示上没啥区别呀。就多了个引号。</q> <br/>
    7.ins（insert）：插入标签。<br/>
    好像就是有个<ins>下划线</ins>的效果？<br/>
    8.del（delete）：删除标签。<br/>
    <del>删除线</del>效果。<br/>
    9.还有好多标签啊。。。全部列在这里吧。<br/>
    <dfn>dfn（definition）：定义标签，某个词首次出现的时候可以用一下。</dfn><br/>
    <samp>samp（sample）：样本标签。这个不知道有什么用。。</samp><br/>
    <kbd>kbd（keyboard）：键盘输入标签。</kbd><br/>
    <var>var（variable）：变量标签。</var>
</p>
    
<h2>HTML链接（续）</h2>
<p>
    上面简单介绍了链接的使用方法，其实链接不仅可以是一个网址，也可以是一张图片，一个位置等。<br/>
</p>

<p>
    一个网址的高阶用法：<br/>
    要链接到哪里好呢？算了还是百度吧。。<a href="http://www.baidu.com/" target="_blank" rel="noopener noreferrer">访问百度网站</a><br/>
    这样写可以在新标签中打开网站。其他target属性试试：<br/>
    <a href="http://www.baidu.com" target="_parent">用parent模式访问百度</a><br/>
    <a href="http://www.baidu.com" target="_self">用self模式访问百度</a><br/>
    <a href="http://www.baidu.com" target="_top">用top模式访问百度</a><br/>
</p>

<P>
    链接的id属性：<br/>
    这个就挺有用的，可以返回到特定位置，如<a href="#top">返回顶部</a>
</P>

<p>
    图片链接：点击能跳转到百度<br/>
    <a href="http://www.baidu.com" target="_blank"><img border="0" src="E:\HTML_ws\head.png" alt="图片无法显示" width="50" height="50"></a>
    <!--图片无法显示时会显示alt（alternative）的内容-->
</p>

<!--今天先到这里吧2021/01/20-->>


</body>

</html></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-20T11:52:33.801Z" title="2021/1/20 下午7:52:33">2021-01-20</time>发表</span><span class="level-item"><time dateTime="2021-03-03T09:23:14.491Z" title="2021/3/3 下午5:23:14">2021-03-03</time>更新</span><span class="level-item">几秒读完 (大约27个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/20/1952.html">HTML 学习笔记</a></h1><div class="content"><h1 id="HTML模板"><a href="#HTML模板" class="headerlink" title="HTML模板"></a>HTML模板</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&lt;html&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">上一页</a></div><div class="pagination-next"><a href="/page/3/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li><li><a class="pagination-link" href="/page/5/">5</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://avatars.githubusercontent.com/u/52914833?s=400&amp;u=a6dbfe356f8206e4e29a7220973eca2b46fc0ab6&amp;v=4" alt="BurgessX"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">BurgessX</p><p class="is-size-6 is-block">College Student</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shenzhen, Guangdong, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">41</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">10</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/burgessx" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/burgessx"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li><li><a class="level is-mobile" href="https://blog.zhangruipeng.me/hexo-theme-icarus/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus</span></span><span class="level-right"><span class="level-item tag">blog.zhangruipeng.me</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-03-02T06:48:35.045Z">2021-03-02</time></p><p class="title"><a href="/2021/03/02/1448.html"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-03-02T04:22:19.370Z">2021-03-02</time></p><p class="title"><a href="/2021/03/02/1222.html">ROS 学习笔记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-28T07:33:36.257Z">2021-02-28</time></p><p class="title"><a href="/2021/02/28/1533.html">文献阅读笔记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-27T15:46:00.000Z">2021-02-27</time></p><p class="title"><a href="/2021/02/27/2346.html">Linux 常用命令及相关问题</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-26T11:19:49.445Z">2021-02-26</time></p><p class="title"><a href="/2021/02/26/1919.html">Hello World</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">三月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">二月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">十月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">九月 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Blog/"><span class="tag">Blog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROS/"><span class="tag">ROS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SLAM/"><span class="tag">SLAM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shell/"><span class="tag">Shell</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TODO/"><span class="tag">TODO</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vim/"><span class="tag">Vim</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WIFI/"><span class="tag">WIFI</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">BurgessX</a><p class="is-size-7"><span>&copy; 2021 BurgessX</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>